<?xml version="1.0" encoding="UTF-8"?><rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Diel Duarte Blog</title><description>Pensamentos randÃ´micos sobre tecnologias web</description><link>https://dielduarte.dev/</link><language>en-us</language><item><title>Como descrever o seu pull request perfeito</title><link>https://dielduarte.dev/blog/pt-br/como-descrever-o-seu-pull-request-perfeito/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/como-descrever-o-seu-pull-request-perfeito/</guid><description>Compartilhando minhas experiÃªncias com pull requests</description><pubDate>Thu, 07 Sep 2023 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Ao longo de toda a minha carreira, tenho recebido feedbacks muito positivos sobre como descrevo e organizo meus pull requests de colegas e gestores. NÃ£o sou especial ou melhor do que ninguÃ©m, na verdade, a maioria das equipes com as quais tive a oportunidade de trabalhar tinha um guia passo a passo bem estabelecido sobre como escrever descriÃ§Ãµes. EntÃ£o, por que tantos feedbacks positivos? O que faÃ§o de diferente? HÃ¡ algumas semanas, comecei a pensar sobre isso e decidi escrever este post com alguns pontos sobre como vejo os PRs como parte do meu trabalho.&lt;/p&gt;
&lt;h2&gt;Trate PRs como documentaÃ§Ã£o&lt;/h2&gt;
&lt;p&gt;Imagine que sua equipe recebeu uma notificaÃ§Ã£o de bug, e uma pull request que foi mergeada hÃ¡ 6 meses estÃ¡ causando o problema. Sua primeira reaÃ§Ã£o Ã© abrir a pull request para obter mais contexto. O cÃ³digo foi alterado em apenas 1 linha, sem testes, e a descriÃ§Ã£o parece algo prÃ³ximo disso:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Corrige o bug #12123 &amp;lt;- link para o ticket.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Neste ponto, vocÃª quer chorar, eu sei! Eu tambÃ©m iria. &lt;/p&gt;
&lt;p&gt;Enfrentei essa situaÃ§Ã£o muitas vezes ao longo da minha carreira, seja um bug ou uma funcionalidade, e comecei a ver as descriÃ§Ãµes das minhas pull requests como documentaÃ§Ã£o e economia de tempo. Em uma documentaÃ§Ã£o realmente boa, minha expectativa Ã© que ela responda o mÃ¡ximo de perguntas possÃ­vel em qualquer momento, tais como:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Qual era o cenÃ¡rio/ambiente naquele momento&lt;/li&gt;
&lt;li&gt;EstratÃ©gias consideradas, mas nÃ£o escolhidas, e o porquÃª&lt;/li&gt;
&lt;li&gt;EstratÃ©gia usada e porquÃª&lt;/li&gt;
&lt;li&gt;Como revisar o cÃ³digo&lt;/li&gt;
&lt;li&gt;Como garantir que o que vocÃª fez funcione / como testÃ¡-lo&lt;/li&gt;
&lt;li&gt;Efeitos colaterais esperados&lt;/li&gt;
&lt;li&gt;O mÃ¡ximo de links externos possÃ­vel para acrescentar contexto, como threads no Slack, documentaÃ§Ã£o de APIs, links do Stack Overflow e tickets internos.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Quando penso em uma boa documentaÃ§Ã£o, as melhores que li me colocaram no contexto certo ao me contar o &quot;porquÃª&quot; e o &quot;como&quot;, assumindo que sou um estranho e nÃ£o o criador da criatura. Sempre assuma que quem estÃ¡ lendo nÃ£o sabe tanto quanto vocÃª.&lt;/p&gt;
&lt;h2&gt;Engaje seus leitores&lt;/h2&gt;
&lt;p&gt;Este ponto requer tempo para compreender sua audiÃªncia/equipe, mas assim que souber o que envolve mais, vÃ¡ em frente! Com o tempo e feedback, vocÃª comeÃ§a a entender as preferÃªncias da sua equipe e melhora com base nelas. SerÃ¡ que minha audiÃªncia prefere textos longos ou vÃ­deos? Ou talvez eles gostem de grÃ¡ficos explicando fluxos. Seja o que for, faÃ§a!&lt;/p&gt;
&lt;p&gt;DocumentaÃ§Ãµes envolventes sÃ£o bem organizadas, nÃ£o exigem horas de atenÃ§Ã£o ininterrupta, mostram seu valor desde o inÃ­cio e fazem com que as pessoas queiram terminar porque sÃ£o fÃ¡ceis de seguir. Recentemente, recebi um feedback muito legal, e nem foi relacionado Ã s minhas pull requests, mas Ã  forma como me comunico. Acho relevante compartilhar:&lt;/p&gt;
&lt;p&gt;&quot;Verifiquei aquele link de suporte que vocÃª postou. Sempre adoro ler suas soluÃ§Ãµes e o formato de perguntas/respostas, Ã© como uma conversa lol&quot; - de uma pessoa incrÃ­vel com quem tenho o prazer de trabalhar. â¤ï¸&lt;/p&gt;
&lt;h2&gt;Seja o seu pior revisor - do jeito bom.&lt;/h2&gt;
&lt;p&gt;Sempre revise suas pull requests antes de compartilhÃ¡-las com sua equipe e seja crÃ­tico; afinal, no final do dia, vocÃª Ã© a pessoa que melhor conhece seus limites e quÃ£o bem pode entregar algo. Sempre questione suas decisÃµes: este cÃ³digo realmente faz sentido? O que eu poderia fazer melhor aqui? O que eu sugeriria se este cÃ³digo nÃ£o fosse meu, e se eu sugeriria, por que ainda nÃ£o fiz?&lt;/p&gt;
&lt;p&gt;Adicione comentÃ¡rios nas linhas/funÃ§Ãµes/arquivos nos quais vocÃª acha que sua equipe terÃ¡ perguntas. Use essa estratÃ©gia para orientar os revisores aos pontos do cÃ³digo sobre os quais vocÃª pode nÃ£o ter certeza e deseja feedback. Esteja Ã  frente deles e respeite o tempo de seus colegas, usando-o sabiamente.&lt;/p&gt;
&lt;p&gt;Sejamos honestos, &lt;b&gt;todos estÃ£o ocupados&lt;/b&gt;, e muitas vezes o tempo de revisÃ£o de cÃ³digo nÃ£o Ã© considerado ao discutir a capacidade da equipe de se comprometer a entregar uma funcionalidade ou corrigir um bug. Evitar idas e vindas e ser o mais claro possÃ­vel Ã© uma maneira de mostrar que vocÃª respeita seus revisores e estÃ¡ tentando fazer o melhor trabalho possÃ­vel.&lt;/p&gt;
&lt;p&gt;Espero que eu tenha lhe dado algumas ideias para melhorar seu trabalho diÃ¡rio com as pull requests. ğŸ‘‹&lt;/p&gt;</content:encoded></item><item><title>Continuidade aplicada aos processos de engenharia de software</title><link>https://dielduarte.dev/blog/pt-br/continuidade-aplicada-a-processos-de-desenvolvimento-de-software/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/continuidade-aplicada-a-processos-de-desenvolvimento-de-software/</guid><description>A continuidade aplicada aos processos de engenharia de software</description><pubDate>Tue, 13 Feb 2024 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;NÃ£o faz muito tempo que me tornei lÃ­der tÃ©cnico pela primeira vez em minha carreira e, logo em seguida, tambÃ©m fui considerado staff engineer. Isso mudou tudo, de alguÃ©m imerso na programaÃ§Ã£o (ainda porque eu amo isso) para a pessoa que representa a visÃ£o tÃ©cnica de uma equipe e tenta levar o grupo a um lugar melhor, tecnicamente falando.&lt;/p&gt;
&lt;p&gt;Me encontro mais frequentemente pensando no futuro e nos processos do que eu estava acostumado, longas discussÃµes com equipes de produto e design, idas e vindas de ideias, Provas de Conceito (POCs) e a coisa mais terrÃ­vel que todo engenheiro odeia, negociar tempo para trabalhar em dÃ©bitos tÃ©cnicos e melhorias.&lt;/p&gt;
&lt;p&gt;Tem sido interessante! Aprendi muito, e embora nÃ£o tenha sido tanto tempo assim nesta posiÃ§Ã£o, jÃ¡ me vi em situaÃ§Ãµes bastante complicadas e tenho pensado muito sobre continuidade a longo prazo. Acho que posso elaborar uma fÃ³rmula matemÃ¡tica para provar que a continuidade a longo prazo pode ajudar nos processos de desenvolvimento de software. Isso nÃ£o seria uma tese de mestrado ou algo assim? Talvez eu devesse voltar Ã  vida acadÃªmica.&lt;/p&gt;
&lt;h2&gt;Os casos de sucesso e os processos de continuidade ocultos&lt;/h2&gt;
&lt;p&gt;VocÃª pode se perguntar, &quot;Por que Diel estÃ¡ falando sobre isso agora?&quot; As situaÃ§Ãµes mais complicadas em que estive relacionam-se Ã  negociaÃ§Ã£o de tempo, e se hÃ¡ algo com que sou obrigado a concordar com os coachs de negÃ³cios do YouTube Ã© que o tempo Ã© finito, o recurso mais desejado e caro.&lt;/p&gt;
&lt;p&gt;EntÃ£o, por que algumas Ã¡reas tÃªm sucesso e outras nÃ£o? NÃ£o posso simplesmente aceitar que seja apenas porque elas tÃªm tempo para se focar. Sejamos honestos; muitos erros sÃ£o cometidos ao longo do caminho, mesmo quando se dedica tempo integral a algo, o que pode ser traduzido como &quot;tempo perdido&quot;, e nÃ³s perdemos muito tempo. O tempo Ã© essencial, mas nÃ£o Ã© o Ãºnico fator de sucesso a ser considerado.&lt;/p&gt;
&lt;p&gt;VocÃª sabe jÃ¡ sabe onde quero chegar, a continuidade aplicada ao tempo Ã© um fator de sucesso. DÃª uma olhada rÃ¡pida ao seu redor:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Um produto sÃ³ oferece novos recursos por causa de um processo contÃ­nuo de entrega de novos recursos.&lt;/li&gt;
&lt;li&gt;O mesmo vale para os bugs, espero. O produto continua a arrumar bugs por meio de um processo de resoluÃ§Ã£o contÃ­nua de bugs.&lt;/li&gt;
&lt;li&gt;VocÃª mantÃ©m todos na empresa alinhados por meio de um processo de manutenÃ§Ã£o contÃ­nua do alinhamento.&lt;/li&gt;
&lt;li&gt;Seu software usa as dependÃªncias mais atualizadas por meio do processo contÃ­nuo de atualizaÃ§Ã£o delas.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Experimente vocÃª mesmo:&lt;/p&gt;
&lt;p&gt;{A aÃ§Ã£o desejada Ã© bem-sucedida}, por causa de um processo contÃ­nuo de fazer {aÃ§Ã£o desejada}.&lt;/p&gt;
&lt;h2&gt;O grÃ¡fico de continuidade e seus surpreendentes efeitos colaterais&lt;/h2&gt;
&lt;p&gt;Desmond Tutu disse com sabedoria: &quot;HÃ¡ apenas uma maneira de comer um elefante: uma mordida de cada vez.&quot; Ele quis dizer que tudo que parece assustador, avassalador ou atÃ© mesmo impossÃ­vel pode ser realizado gradualmente, assumindo um pouco de cada vez.&lt;/p&gt;
&lt;p&gt;Um pouco de cada vez... continuidade.&lt;/p&gt;
&lt;p&gt;Sempre teremos grandes projetos para trabalhar, o que Ã© Ã³timo. Eu odiaria nÃ£o ter nenhum problema impactante ou complexo para resolver, o que geralmente se traduz em muito trabalho em muitas frentes diferentes. Como podemos progredir em vÃ¡rias Ã¡reas enquanto mantemos um bom ritmo na entrega de novos recursos, melhorias na experiÃªncia do usuÃ¡rio/desenvolvedor, manutenÃ§Ã£o, correÃ§Ã£o de bugs e mais?&lt;/p&gt;
&lt;p&gt;NÃ£o estou advogando ter uma equipe que se concentre em todas essas coisas ao mesmo tempo, mas ser crÃ­tico e pensar sobre o que pode ser paralelizado, levando em consideraÃ§Ã£o a capacidade da equipe para que possamos ter progresso contÃ­nuo e saudÃ¡vel em Ã¡reas que terÃ£o um impacto positivo, mas nunca seriam priorizadas.&lt;/p&gt;
&lt;p&gt;Sua empresa nÃ£o irÃ¡ Ã  falÃªncia se a equipe levar trÃªs semanas a mais para entregar aquele grande recurso e, ainda assim, corrigir alguns bugs e melhorar a experiÃªncia do desenvolvedor ao longo do caminho. Mas vocÃª sÃ³ pode comeÃ§ar com pessoas que acreditam que a empresa lhes dÃ¡ espaÃ§o para ter sucesso e apoia um processo sÃ³lido e saudÃ¡vel.&lt;/p&gt;
&lt;h2&gt;Aplicando a fÃ³rmula de continuidade&lt;/h2&gt;

  
    
      Trabalho que precisa ser feito
    
    Tempo disponÃ­vel/desejado
  

&lt;p&gt;Vamos supor que temos um trabalho de migraÃ§Ã£o para fazer, nÃ³s irÃ­amos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dividir e ter uma compreensÃ£o clara do trabalho necessÃ¡rio.&lt;/li&gt;
&lt;li&gt;Aplicar e dividir groupos deste trabalho em cima do tempo disponÃ­vel ou desejado.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Esta lista de aÃ§Ãµes nos dÃ¡ uma linha constante muito chata:&lt;/p&gt;

&lt;p&gt;NinguÃ©m vÃª o efeito colateral dessa representaÃ§Ã£o visual constante; nÃ³s comemos o elefante uma mordida de cada vez. O efeito colateral Ã© que vocÃª comeÃ§arÃ¡ com muito trabalho a ser feito, mas tambÃ©m diminuirÃ¡ linearmente este nÃºmero e se aproximarÃ¡ de zero no final. Isso nÃ£o Ã© como tudo funciona em desenvolvimento de software?&lt;/p&gt;

&lt;h2&gt;Os efeitos colaterais nÃ£o mensurÃ¡veis&lt;/h2&gt;
&lt;p&gt;Como tudo que envolve seres humanos, haverÃ¡ alguns efeitos colaterais que gosto de chamar de nÃ£o mensurÃ¡veis; eles sÃ£o nÃ£o mensurÃ¡veis porque estamos falando de sentimentos humanos, motivaÃ§Ãµes e crenÃ§as.&lt;/p&gt;
&lt;p&gt;Pense nisso: se sua equipe vem mencionando e pedindo para trabalhar em uma longa migraÃ§Ã£o que se tornou um problema significativo para a velocidade e qualidade da equipe por anos, isso afetarÃ¡ diretamente a felicidade e motivaÃ§Ã£o da equipe. NÃ£o abordar grandes preocupaÃ§Ãµes/projetos como esse pode diminuir drasticamente a confianÃ§a da equipe na capacidade da empresa de apoiar um processo sÃ³lido e saudÃ¡vel.&lt;/p&gt;
&lt;p&gt;Os efeitos colaterais tambÃ©m se estendem alÃ©m das mÃ©tricas de produtividade. Isso pode aumentar a inovaÃ§Ã£o e a resoluÃ§Ã£o criativa de problemas aplicando continuidade e devolvendo tempo Ã s equipes, jÃ¡ que elas nÃ£o estÃ£o gastando todo o tempo e energia tentando descobrir como comer o elefante.&lt;/p&gt;
&lt;p&gt;No final, todos nÃ³s temos um objetivo: produzir com qualidade e mais rÃ¡pido.&lt;/p&gt;</content:encoded></item><item><title>Criando sua primeira aplicaÃ§Ã£o com React e Xstate</title><link>https://dielduarte.dev/blog/pt-br/criando-sua-primeira-aplicacao-com-react-e-xstate/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/criando-sua-primeira-aplicacao-com-react-e-xstate/</guid><description>Construindo sua primeira aplicaÃ§Ã£o com react e xstate...</description><pubDate>Tue, 24 Nov 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Hoje vamos criar nossa primeira aplicaÃ§Ã£o utilizando o nosso modelo do post anterior que vocÃª pode ler &lt;a href=&quot;/pt-br/modelando-sua-primeira-aplicacao-com-statecharts-e-xstate/&quot;&gt;aqui&lt;/a&gt;. NÃ³s iremos utilizar Snowpack, React e Xstate.&lt;/p&gt;
&lt;p&gt;Instalando dependÃªncias&lt;/p&gt;
&lt;p&gt;Vamos utilizar o Snowpack como nosso sistema de build, e por que? Uma breve explicaÃ§Ã£o pois isso daria um post separado Ã© que o Snowpack Ã© um sistema de build que utiliza o poder dos ESmodules em desenvolvimento, a ideia Ã© que com ESmodules nÃ³s nÃ£o precisamos de um builder em tempo de desenvolvimento jÃ¡ que os browsers modernos conseguem importar esmodules, isso faz com que sua ferramenta de desenvolvimento seja constante O(1) para startar seu dev server e tbm para fazer reloads ignorando o tamanho do seu projeto. Como disse isso daria um post separado que vamos ter em breve aqui no blog!&lt;/p&gt;
&lt;p&gt;Instalando usando o create-snowpack-app:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;npx&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;create&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;snowpack&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;app&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;cats&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;app&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;--&lt;/span&gt;&lt;span&gt;template&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;@snowpack&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;app&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;template&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;react&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;--&lt;/span&gt;&lt;span&gt;use&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;yarn&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Esse comando vai criar uma pasta chamada &lt;code&gt;cats-app&lt;/code&gt; com todo o boilerplate inicial para iniciar um projeto Snowpack e React. VocÃª vai perceber abrindo o projeto que a estrutura Ã© bem parecida com a estrutura inicial do create-react-app, entÃ£o se vc jÃ¡ usou create-react-app alguma vez vai estar bem familiarizado.&lt;/p&gt;
&lt;p&gt;Como disse o projeto Ã© muito simples e a ideia aqui nÃ£o Ã© se preocupar muito com UX, eu vou utilizar nos exemplos um pouco de Taiwlind sÃ³ pra deixar um pouquinho mais bonitinho, mas sendo sincero nem precisava. Basicamente nosso projeto vai conter um botÃ£o para buscar uma nova imagem, mensagem de loading ou quando algum erro acontecer e uma imagem que vai ser rederizada quando buscarmos uma nova foto de gatinho.&lt;/p&gt;
&lt;p&gt;Iniciando o projeto, entre na pasta &lt;code&gt;cats-app&lt;/code&gt; e rode:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;yarn&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;start&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Vamos entrar no nosso app.js e remover tudo deixando o arquivo assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;React&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;null;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;export&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;tambÃ©m vamos ir em &lt;code&gt;public/index.html&lt;/code&gt; e importar o Tawilind, lembrando que essa nÃ£o Ã© a melhor maneira de utilizÃ¡-lo pois dessa forma estamos importando o cÃ³digo inteiro e vamos utilizar nem 10% das classes disponÃ­veis. Mas o propÃ³sito aqui nÃ£o Ã© pensar em uma aplicaÃ§Ã£o performÃ¡tica, entÃ£o serve muito bem para exemplos:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;&amp;lt;link&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;href&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;rel&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;stylesheet&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Utilizando nossa machine do exemplo anterior:&lt;/h3&gt;
&lt;p&gt;Primeiro precisamos instalar o xstate e @xstate/react&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;yarn&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;xstate&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;@xstate&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;react&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Vamos agora criar um arquivo src/app-machine.js, que vai conter a nossa machine que criamos no post anterior.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;assign&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;xstate&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;export&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;cond&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       ]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;final&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;services&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;fetch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;https://api.thecatapi.com/v1/images/search&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;headers&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;x-api-key&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;sua-api-key&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;response&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;response&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;json&lt;/span&gt;&lt;span&gt;())&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;assign&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;data&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;assign&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;assign&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;guards&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;VocÃª tambÃ©m vai precisar ir no site &lt;a href=&quot;https://thecatapi.com&quot;&gt;thecatapi.com&lt;/a&gt; e gerar uma API key. VocÃª deve substituir &lt;code&gt;sua-api-key&lt;/code&gt; pelo valor real na linha 51.&lt;/p&gt;
&lt;p&gt;Se vocÃª estÃ¡ confuso como a machine funciona ou nÃ£o leu a sÃ©rie inteira volte no post modelando sua primeira aplicaÃ§Ã£o onde montamos essa state machine do zero.&lt;/p&gt;
&lt;p&gt;Agora vamos voltar ao nosso app.js e vamos importar useMachine hook e nossa machine para que possamos utilizala no nosso app:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;React&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;@xstate/react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;./app-machine&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;null;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;export&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;VocÃª consegue ver que useMachine hook retorna um array com dois items, o primeiro Ã© tudo relacionado ao nosso estado atual + algumas funÃ§Ãµes Ãºteis que podemos utilizar durante o desenvolvimento. O segundo Ã© o metodo que chamamos de send, que Ã© utilizado para enviar eventos para a machine, bem parecido com um dispatch do Redux.&lt;/p&gt;
&lt;p&gt;Agora vamos montar nosso render, a princÃ­pio precisamos de um simples botÃ£o que envia  o evento &lt;code&gt;LOAD_NEW_PICTURE&lt;/code&gt; para nossa machine: o cÃ³digo ficaria assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;React&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;@xstate/react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;./app-machine&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;&amp;lt;button&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;className&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;={&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      get new picture&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  )&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;export&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Agora nÃ³s precisamos tratar na nossa UI os quatro estados possÃ­veis que nossa machine pode ter que Ã© loading, success, errror, cant_retry. A fins didÃ¡ticos vamos colocar tudo no render do App.js poderiamos melhorar esse cÃ³digo utilizando um pattern matching e separando cada variaÃ§Ã£o em um componente diferente, mas o proposito aqui Ã© ser simples.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;React&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;@xstate/react&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;./app-machine&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;&amp;lt;button&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;className&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;={&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      buscar uma nova foto&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;matches&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;&amp;lt;h3&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;className&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text-xl text-purple-700 pt-4&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;loading...&lt;/span&gt;&lt;span&gt;&amp;lt;/h3&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      )&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;matches&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;&amp;lt;img&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;className&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;pt-4 pr-4 object-cover w-full h-auto&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;={&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      )&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;matches&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;&amp;lt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;&amp;lt;p&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;className&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;text-lg text-red-700 mb-2 mt-2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;Ops! algo deu errado&lt;/span&gt;&lt;span&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;&amp;lt;button&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;            &lt;/span&gt;&lt;span&gt;className&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;            &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;={&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;            tentar novamente&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;&amp;lt;/button&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;&amp;lt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      )&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;matches&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span&gt;NÃ£o Ã© possÃ­vel tentar novamente&lt;/span&gt;&lt;span&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      )&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;&amp;lt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  )&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;export&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;App&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Nossa que tanto de IF Diel, o que estÃ¡ acontecendo? hahaha o mais legal do Xstate e State Machines no geral Ã© que nÃ³s temos certeza que a aplicaÃ§Ã£o nunca vai estar em mais de 1 estado ao mesmo tempo. NÃ³s estamos utilizando o &lt;code&gt;current.matches&lt;/code&gt; que basicamente Ã© uma funÃ§Ã£o que retorna true se o estado passado como parÃ¢metro der match com o estado atual da machine.&lt;/p&gt;
&lt;p&gt;Nossa aplicaÃ§Ã£o estÃ¡ praticamente pronta, e agora vem a cereja do bolo. JÃ¡ pensou em poder vizualizar seu cÃ³digo e sua aplicaÃ§Ã£o no geral em realtime podendo ter certeza do que estÃ¡ acontecendo na sua aplicaÃ§Ã£o naquele momento? E mais, podendo controlar a sua aplicaÃ§Ã£o por essa representaÃ§Ã£o visual da mesma?&lt;/p&gt;
&lt;p&gt;A poucas semanas a galera do Xstate lanÃ§ou o xstate/inspect, que basicamente abre um debugger da sua aplicaÃ§Ã£o representando a machine em tempo real e totalmente dinÃ¢mico, ou seja, vocÃª consegue controlar sua aplicaÃ§Ã£o atravÃ©s desse debugger. Vamos ver como isso funciona:&lt;/p&gt;
&lt;p&gt;Primeiro vamos instalar o inspect:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;yarn&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;@xstate&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;inspect&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;No nosso app.js vamos importar e iniciar a config inicial:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;inspect&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;@xstate/inspect&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;inspect&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;https://statecharts.io/inspect&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;iframe&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E no nosso useMachine hook, vamos colocar um segundo parametro &lt;code&gt;{ devTools: true }&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;current&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;send&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;useMachine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;AppMachine&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;devTools&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Agora voltamos pra nossa aplicaÃ§Ã£o e vocÃª vai ver que ao renderizÃ¡-la novamente o xstate/inspect vai abrir uma nova aba renderizando a sua machine em realtime e vocÃª pode tanto usar a sua aplicaÃ§Ã£o e ver os resultados disso na aba do inspect quanto ao contrÃ¡rio, vocÃª pode enviar eventos do inspect para a sua aplicaÃ§Ã£o.&lt;/p&gt;

    
  
&lt;h3&gt;Simulando API retornando erro.&lt;/h3&gt;
&lt;p&gt;Para sirmularmos nossa api retornando erro, vamos substituir nosso service &lt;code&gt;fetchNewPicture&lt;/code&gt; pelo cÃ³digo abaixo, que Ã© que uma promisse sendo rejeitada:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;new&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Promise&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;resolve&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;reject&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;reject&lt;/span&gt;&lt;span&gt;())&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Agora ao clicar em buscar uma nova foto, automaticamente vamos ser redirecionados para o estado de error. O mais legal de State Machines e da lib Xstate por ter implementado isso Ã© que se um evento nÃ£o Ã© tratado no estado atual, mesmo que o usuÃ¡rio envie esse evento, nada acontece.&lt;/p&gt;
&lt;p&gt;De propÃ³sito eu deixei o botÃ£o buscar uma nova foto disponÃvel sempre, tenta clicar nele 10 mil vezes vocÃª vai ver que nada acontece pois o evento LOAD_NEW_PICTURE nÃ£o existe no estado de error.&lt;/p&gt;
&lt;p&gt;Podemos ver tambÃ©m que nossa lÃ³gica de retry times funcionou, o usuÃ¡rio pode tentar novamente por 3 vezes, se por 3 vezes a api nÃ£o retornou com sucesso o usuÃ¡rio Ã© enviado para o estado cant_retry que Ã© o estado final da nossa machine.&lt;/p&gt;

    
  
&lt;p&gt;Por hoje Ã© sÃ³ pessoal!&lt;/p&gt;</content:encoded></item><item><title>Dicas para times remotos</title><link>https://dielduarte.dev/blog/pt-br/dicas-para-times-remotos/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/dicas-para-times-remotos/</guid><description>ComunicaÃ§Ã£o assÃ­ncrona, algumas ferramentas e dicas para manter uma equipe remota baseado em minha experiÃªncia e estudos.</description><pubDate>Sun, 19 Apr 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Esse Ã© um material sobre comunicaÃ§Ã£o assÃ­ncrona, algumas ferramentas e dicas para manter uma equipe remota baseado em minha experiÃªncia e estudos. NÃ£o estamos falando de uma ciÃªncia exata e recomendo testar as dicas por algumas semanas e avaliar os resultados com a ajuda de feedbacks da equipe.&lt;/p&gt;
&lt;h2&gt;Async vs realtime&lt;/h2&gt;
&lt;p&gt;Tente manter a comunicaÃ§Ã£o assÃ­ncrona sempre que possÃ­vel, assimilar que conversas em real time sÃ£o como reuniÃµes pode ajudar. JÃ¡ pensou ficar em reuniÃ£o 8 horas por dia? Em uma situaÃ§Ã£o de extrema desorganizaÃ§Ã£o remota isso pode acontecer, como resultado, a produtividade do time cai.&lt;/p&gt;
&lt;p&gt;Evitar usar ferramentas de chat em tempo real pode ajudar. No lugar tente ferramentas como Twist  que basicamente organiza toda a comunicaÃ§Ã£o do time por thread.&lt;/p&gt;
&lt;p&gt;Assim como todo time de desenvolvimento tem um cultura de fazer code review em alguns momentos do dia, tambÃ©m serÃ¡ necessÃ¡rio implantar a mesma ideia para que a equipe dedique um tempo do dia para checar todas as threads em que eles estÃ£o participando e responder/tomar aÃ§Ãµes se necessÃ¡rio.&lt;/p&gt;
&lt;p&gt;Use chats em tempo real para situaÃ§Ãµes de emergÃªncia como um bug em produÃ§Ã£o, assuntos que realmente precisam de uma resposta em tempo real / situaÃ§Ãµes do dia a dia como:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ei, nÃ£o consigo achar onde esta documento X, pode me ajudar?&lt;/li&gt;
&lt;li&gt;Estou com um problema que nÃ£o consigo resolver, alguÃ©m livre para fazer um pair programming?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;E claro, para conversas informais em grupos ou privadas&lt;/p&gt;
&lt;h3&gt;One Monday&lt;/h3&gt;
&lt;p&gt;One monday Ã© um conceito vÃ¡lido principalmente para times em mÃºltiplos timezones. O conceito consiste em entender que em uma comunicaÃ§Ã£o assÃ­ncrona em um ambiente remoto estarei sujeito a ter que esperar atÃ© 24 horas para receber uma resposta dependendo do timezone das pessoas envolvidas. Reafirmo a dica, em casos de situaÃ§Ãµes urgentes usem chats em tempo real ou ligaÃ§Ãµes para parear com webcam ligada.&lt;/p&gt;
&lt;h2&gt;Converse com as pessoas certas&lt;/h2&gt;
&lt;p&gt;Se vocÃª precisa discutir algo sobre marketing, envie no grupo de marketing, crie thread apenas com as pessoas relacionadas a marketing ou relacionadas ao assunto que vocÃª precisa resolver/discutir, dessa forma evitamos distraÃ§Ãµes desnecessÃ¡rias para o resto do time.&lt;/p&gt;
&lt;p&gt;Receber notificaÃ§Ãµes ou participar de todas as threads a todo momento sobre assuntos que o integrante do time nÃ£o precisa participar, alÃ©m de ser uma distraÃ§Ã£o desnecessÃ¡ria, muitas vezes forÃ§a os integrantes a mutar ou ignorar o canal de comunicaÃ§Ã£o para que consigam focar no trabalho e como resultado, um gap de comunicaÃ§Ã£o muito maior&lt;/p&gt;
&lt;h2&gt;Crie grupos por time e/ou Ã¡reas de conhecimento&lt;/h2&gt;
&lt;p&gt;Evite criar grupos para cada assunto ou cada tarefa que precisa ser discutida, em questÃ£o de dias isso pode virar um caos e ninguÃ©m sabe em que grupo responder, mais uma vez aumentando o gap de comunicaÃ§Ã£o.&lt;/p&gt;
&lt;p&gt;Exemplo de grupos por time:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;time dashboard&lt;/li&gt;
&lt;li&gt;time site&lt;/li&gt;
&lt;li&gt;RH&lt;/li&gt;
&lt;li&gt;Marketing&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Exemplo de grupos por Ã¡reas de conhecimento:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Front-end&lt;/li&gt;
&lt;li&gt;Back-end&lt;/li&gt;
&lt;li&gt;Designers&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Use grupos por Ã¡reas de conhecimento para aumentar o engajamento e a troca de conhecimento ou ajudas rÃ¡pidas. Faz muito mais sentido um front-end perguntar uma dÃºvida ou dicas de CSS em um grupo focado sobre front-end ao invÃ©s de perguntar no chat geral da empresa, para apenas uma pessoa ou mesmo no grupo de back-end.&lt;/p&gt;
&lt;h2&gt;Status&lt;/h2&gt;
&lt;p&gt;Uma Ã³tima maneira saudÃ¡vel de saber quando alguÃ©m estÃ¡ online ou nÃ£o Ã© usando o prÃ³prio status de chats em real time. Algumas ferramentas, como Slack, permitem aos usuÃ¡rios adicionarem status diferentes de apenas online/offline. Uma ideia que meu time atual aplica e tem funcionado muito bem sÃ£o os status:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;O status Ã© exibido ao lado do nome do usuÃ¡rio:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;No exemplo acima, eu sei que o usuÃ¡rio Magdiel Duarte estÃ¡ offline no momento, isso quer dizer que, mesmo ao enviar uma mensagem direta para ele a resposta nÃ£o vai ser instantÃ¢nea, e tudo bem, mande a mensagem da mesma forma e espere. Se precisar realmente de uma resposta urgente sempre mande em grupos onde mais pessoas podem ajudar.&lt;/p&gt;
&lt;h2&gt;ReuniÃµes&lt;/h2&gt;
&lt;p&gt;Sempre faÃ§a reuniÃµes com a webcam ligada, isso gera um engajamento maior na equipe, faz as pessoas se sentirem confortÃ¡veis com aquele momento e manterem o foco.&lt;/p&gt;
&lt;h3&gt;C-Levels meetings&lt;/h3&gt;
&lt;p&gt;Uma das tÃ©cnicas apresentadas pelo livro &quot;It doesn&apos;t have to be crazy at work&quot; Ã© um conceito onde, 1 ou 2 dias na semana os C-levels ficam por algumas horas disponÃ­veis para reuniÃµes com qualquer pessoa/time da empresa, os horÃ¡rios ficam pÃºblicos no calendÃ¡rio e qualquer time/pessoa pode marcar uma reuniÃ£o nesse horÃ¡rio para disctuir sobre algum assunto. Fora desse horÃ¡rio fica restrigindo apenas para assuntos urgentes.&lt;/p&gt;
&lt;p&gt;Tive a oportunidade de trabalhar em uma empresa anterior a atual, onde aplicavam esse conceito e era muito bacana pois os C-levels dessa empresa participavam muito de todas as decisÃµes. Lembra do conceito sobre chat em real time ser considerado reuniÃ£o? Imagine o dia-a-dia de um C-level tendo que responder a todo momento dÃºvidas via chat, eles simplesmente nÃ£o vÃ£o conseguir produzir nada alÃ©m de responder o chat.&lt;/p&gt;
&lt;h3&gt;Daily Reports&lt;/h3&gt;
&lt;p&gt;Daily reports podem ser feitas por calls com a webcam ligada ou via texto.&lt;/p&gt;
&lt;p&gt;Em um time distribuÃ­do em mÃºltiplos timezones texto acaba sendo uma boa opÃ§Ã£o. Ferramentas como o &lt;a href=&quot;https://statushero.com/&quot;&gt;Status Hero&lt;/a&gt;  ajudam as pessoas a nÃ£o esquecerem de mandarem os reports e automatiza esse processo, alÃ©m de trazer alguns insights como produtividade geral da equipe e deixar todas as Dailys Reports documentadas em um dashboard bem interessantes.&lt;/p&gt;
&lt;p&gt;Optar por Dailys Reports via calls pode trazer ainda mais engajamento, principalmente se o dia a dia do time nÃ£o envolve em ter muitas reuniÃµes.&lt;/p&gt;
&lt;p&gt;Nesse caso realmente vai depender de qual opÃ§Ã£o vai deixar o time mais confortÃ¡vel, recomendo testar as duas formas.&lt;/p&gt;
&lt;h2&gt;TIL - Today I learned&lt;/h2&gt;
&lt;p&gt;Uma das maiores reclamaÃ§Ãµes quando se migra para um regime remoto Ã© a troca de conhecimento, o &lt;strong&gt;Today I learned&lt;/strong&gt; Ã© um canal onde as pessoas da empresas compartilham conhecimento, algum post bacana sobre uma tecnologia nova, uma tÃ©cnica que pode ajudar em algum momento, um vÃ­deo sobre uma palestra interessante. Literalmente qualquer coisa que o integrante da empresa achar que vale a pena ser compartilhado com os colegas.&lt;/p&gt;
&lt;p&gt;Apesar do nome ser &lt;strong&gt;Today I learned&lt;/strong&gt;, nÃ£o Ã© necessariamente obrigatÃ³rio postar algo novo todos os dias, mas sim, quando achar que vale a pena ser compartilhado.&lt;/p&gt;
&lt;h2&gt;Thanks&lt;/h2&gt;
&lt;p&gt;Uma das maiores preocupaÃ§Ãµes pessoais quando uma pessoa migra para um trabalho remoto Ã© sobre visibilidade, afinal, no regime remoto Ã© muito dÃ­ficil ter alguÃ©m observando como vocÃª se comporta no trabalho alÃ©m das suas entregas. Ã‰ vÃ¡lido lembrar que o trabalho de uma pessoa e o quÃ£o importante ela Ã© para a empresa vai muito alÃ©m de apenas entregas relacionadas diretamente ao seu cargo, aqui pode ser o lugar perfeito para aprender mais sobre as soft skills de uma pessoa de forma remota.&lt;/p&gt;
&lt;p&gt;O canal &lt;strong&gt;Thanks,&lt;/strong&gt; Ã© um conceito que algumas empresas aplicam onde as pessoas agradecem umas as outras publicamente por algum feito que um colega fez e a ajudou no seu trabalho. Dessa forma fica registrado de forma pÃºblica aÃ§Ãµes que as vezes fica muito dÃ­ficil observar remotamente, como ajudar um colega com um bug de forma privada, ensinar algo novo, e vÃ¡rias outras coisas.&lt;/p&gt;
&lt;p&gt;AlÃ©m de criar um ambiente muito bom para se trabalhar onde as pessoas sÃ£o gratas umas as outras, aumentanto ainda mais o engajamento do todo como um time.&lt;/p&gt;
&lt;h2&gt;Hero&lt;/h2&gt;
&lt;p&gt;Hero Ã© um conceito vÃ¡lido se o time precisa prestar suporte, seja interno ou externo. O conceito consiste em a cada perÃ­odo de tempo determinado pela equipe uma pessoa Ã© o &lt;strong&gt;hero,&lt;/strong&gt; essa pessoa Ã© responsÃ¡vel por conversar diretamenta com o time de suporte, analizar e organizar tarefas relacionadas no backlog e trabalhar para resolver os problemas.&lt;/p&gt;
&lt;p&gt;Com uma pessoa focada nisso, o resto do time pode focar em trabalhar em novas features ou grandes refactors sem interrupÃ§Ãµes para prestar suporte. Isso Ã© usado para organizar melhor o tempo da equipe entre Deep e Shalow Work outros conceitos bem importantes de se estudar.&lt;/p&gt;
&lt;p&gt;Uma das minhas referÃªncias em trabalho remoto e Deep Work Ã© a empresa Doist onde aplicam esses conceitos. Eles tem um blog muito bom e super recomendo a leitura principalmente dos posts sobre Deep Work e Hero + House Keeping.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://doist.com/blog/deep-work/?utm_source=doist_blog&amp;amp;utm_medium=referral&amp;amp;utm_campaign=heroes_housekeeping_days&quot;&gt;https://doist.com/blog/deep-work&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://doist.com/blog/heroes-housekeeping-days/&quot;&gt;https://doist.com/blog/heroes-housekeeping-days/&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;CalendÃ¡rio&lt;/h2&gt;
&lt;p&gt;Uma das melhores formas de se ter uma big picture sobre tudo que estÃ¡ acontecendo na empresa Ã© usando o calendÃ¡rio.&lt;/p&gt;
&lt;p&gt;Especialmente recomendo o Google Calendar, nele Ã© possÃ­vel fazer com que todo mundo tenha acesso ao calendÃ¡rio de todos e que de forma fÃ¡cil consiga mandar convites para reuniÃµes, por exemplo sem ter que previamente perguntar para todo mundo qual o melhor horÃ¡rio. Algumas empresas pedem para o time colocarem no calendÃ¡rio principalmente quando nÃ£o estÃ£o disponÃ­veis, por exemplo:&lt;/p&gt;
&lt;p&gt;Maria sempre vai a academia as 2 pm, ela pode entÃ£o nesse caso adicionar no calendÃ¡rio um evento dizendo que nÃ£o estÃ¡ disponÃ­vel no horÃ¡rio de 2 pm - 3 pm todos os dias, ficando ao critÃ©rio da Maria colocar o porque caso se sinta a vontade para ou apenas &quot;Ocupado&quot;.&lt;/p&gt;
&lt;h2&gt;Micro-managment&lt;/h2&gt;
&lt;p&gt;Muito cuidado com micro gerenciamento de pessoas, se vocÃª precisa perguntar hÃ¡ uma pessoa o que ela estÃ¡ trabalhando temos com certeza algum gap de comunicaÃ§Ã£o acontecendo. O ideal Ã© usar algum software de gerenciamento de tarefas ou atÃ© mesmo planilhas (o que o time achar melhor). Onde cada pessoa pode estar fazendo apenas uma tarefa por vez, que fique claro qual o status atual e de forma pÃºblica para todos do time.&lt;/p&gt;
&lt;h2&gt;FOMO - medo de estar perdendo algo&lt;/h2&gt;
&lt;p&gt;Esse Ã© um problema pessoal, que pode acontecer ou nÃ£o e varia muito de pessoa para pessoa. Mas a postura da empresa relacionada a isso pode ajudar a diminuir os casos a 0. Ser firme com 8 horas trabalhadas por dia e nada mais - com excessÃ£o a casos urgentes - Ã© um Ã³timo comeÃ§o!&lt;/p&gt;
&lt;p&gt;Um cultura onde pessoas da equipe ficam online 24 horas por dia, trabalham atÃ© nos finais de semana nÃ£o pode nunca ser visto com bons olhos pela empresa e pelos lÃ­deres das equipes, isso leva a um alto risco de burnout que Ã© um problema sÃ©rio de saÃºde, e para empresa representa uma queda brusca de produtividade a mÃ©dio e longo prazo.&lt;/p&gt;
&lt;p&gt;Para a equipe:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tenham seus horÃ¡rios de trabalho e sigam a risca, manter uma rotina Ã© muito importante em um regime remoto.&lt;/li&gt;
&lt;li&gt;Se possÃ­vel nÃ£o baixem o chat da empresa em seus celulares pessoais.&lt;/li&gt;
&lt;li&gt;Configure para receber notificaÃ§Ãµes apenas nos horÃ¡rios em que vocÃª esteja trabalhando.&lt;/li&gt;
&lt;li&gt;Tenha em mente que trabalho Ã© um processo contÃ­nuo, vocÃª pode continuar amanhÃ£.&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title>Dominando code splitting com webpack</title><link>https://dielduarte.dev/blog/pt-br/dominando-code-splitting-com-webpack/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/dominando-code-splitting-com-webpack/</guid><description>Vamos conversar sobre como Webpack pode ajudar no processo de code splitting para atingir a meta de um site mais performÃ¡tico.</description><pubDate>Wed, 17 Jul 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Code Splitting Ã© um processo em build time que quebra parte do seu cÃ³digo em pequenos pedaÃ§os que sÃ£o requisitados de forma assÃ­ncrona, apenas quando necessÃ¡rio. Vamos conversar sobre como Webpack pode ajudar no processo de Code Splitting para atingir a meta de um site mais performÃ¡tico.&lt;/p&gt;
&lt;h2&gt;Mas primeiro, como saber quando eu tenho que quebrar o meu cÃ³digo em pequenos pedaÃ§os (chunks)?&lt;/h2&gt;
&lt;p&gt;Os processos mais caros quando falamos sobre renderizar um Website sÃ£o os processos de download e parsing do Javascript e CSS. Sabendo desse fato, se nÃ³s nÃ£o precisamos de uma parte especÃ­fica do cÃ³digo no primeiro render, esse cÃ³digo Ã© um Ã³timo candidato para ser quebrado em uma outra parte e ser baixado sobre demanda.&lt;/p&gt;
&lt;p&gt;O Google Chrome tem uma Ã³tima ferramenta chamada &lt;code&gt;coverage&lt;/code&gt; que nos mostra qual porcentagem do cÃ³digo baixado estÃ¡ ou nÃ£o estÃ¡ sendo usado. Isso pode ser usado como uma mÃ©trica para seguir e saber o quanto do cÃ³digo baixado poderia ser quebrado em partes assÃ­ncronas.&lt;/p&gt;
&lt;p&gt;Para usar essa ferramenta abra o dev tools do Chrome, &lt;code&gt;cmd/ctrl + p&lt;/code&gt;, e digite &lt;code&gt;show coverage&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Uma vez que abrimos a opÃ§Ã£o coverage, clique no botÃ£o de reload e espere atÃ© que nosso site seja completamente carregado. Os resultados vÃ£o nos motrar o quanto do cÃ³digo carregado por arquivo estÃ¡ sendo usado. Ã‰ maravilhoso! ï˜&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;No exemplo abaixo, 46% do cÃ³digo entregue &lt;code&gt;nÃ£o&lt;/code&gt; estÃ¡ sendo usado, essa mÃ©trica tambÃ©m Ã© relativa, dependende do tamanho do arquivo e de muitas outras variÃ¡veis. EntÃ£o Ã© sempre bom entender o contexto que estamos trabalhando quando estivermos usando essas ferramentas.&lt;/p&gt;
&lt;h2&gt;Code splitting e webpack&lt;/h2&gt;
&lt;p&gt;Com Webpack nos temos duas formas de trabalhar com Code Splitting, imports estÃ¡ticos e dinÃ¢micos. As duas formas usam &lt;a href=&quot;https://v8.dev/features/dynamic-import&quot;&gt;dynamic imports, uma feature do es2020&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Imports estÃ¡ticos&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Ã‰ bom para ser usado quanto estivermos importando bibliotecas/mÃ³dulos de Javascript pesados.&lt;/li&gt;
&lt;li&gt;Qualquer parte do cÃ³digo que chamamos de temporal, ou seja, coisas que nÃ£o sÃ£o vÃ­siveis todo o tempo na sua pÃ¡gina, exemplos: tooltips, modais/alertas.&lt;/li&gt;
&lt;li&gt;Rotas.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para usar imports estÃ¡ticos no seu cÃ³digo, Ã© muito simples:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;path/to/myModule.js&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;module&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;...&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Ou ainda melhor, criando uma funÃ§Ã£o que importa o mÃ³dulo quando necessÃ¡rio. O import do arquivo Ã© feito apenas uma vez, depois da primeira Ã© cacheado e na prÃ³xima vez que usar a funÃ§Ã£o o mÃ³dulo Ã© retornado instantaneamente, exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;getModule&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; () â‡’ &lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;path/to/myModule.js&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;getModule&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;module&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;...&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Imports Dinamicos&lt;/h3&gt;
&lt;p&gt;Imports dinÃ¢micos nÃ£o sÃ£o de verdade dinÃ¢micos, porque eles acontecem em build time. Ao usar imports dinÃ¢micos estamos dizendo para o Webpack: Ei Webpack, por favor, crie todos os chunks possÃ­veis para o caminho que eu estou te passando, seja uma pasta, ou vÃ¡rias em build time. Dessa forma nos conseguimos usar variÃ¡veis o que torna esse processo de import &quot;dinÃ¢mico&quot;.&lt;/p&gt;
&lt;p&gt;Vamos considerar que nÃ³s temos uma pasta de temas, ex:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;themes&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  â””â”€â”€ &lt;/span&gt;&lt;span&gt;dark&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;js&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  â””â”€â”€ &lt;/span&gt;&lt;span&gt;light&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;js&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Como exemplo nÃ³s poderiamos importar os temas assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;getTheme&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;theme&lt;/span&gt;&lt;span&gt;) â‡’ &lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;path/to/themes/&lt;/span&gt;&lt;span&gt;${&lt;/span&gt;&lt;span&gt;theme&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;getTheme&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;dark&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;theme&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;...&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Dessa forma o Webpack vai criar todos os possÃ­veis chunks em build time para cada tema dentro da pasta &lt;code&gt;themes&lt;/code&gt;, essa tÃ©cnica Ã© chamada de &lt;code&gt;ContextModule&lt;/code&gt; dentro do cÃ³digo do Webpack.&lt;/p&gt;
&lt;h2&gt;ComentÃ¡rios MÃ¡gicos&lt;/h2&gt;
&lt;h3&gt;webpackChunkName&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/* webpackChunkName: &quot;my-chunk-name&quot; */&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;path/to/myModule.js&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Por default o Webpack cria os nomes dos chunks seguindo uma ordem numÃ©rica, 1.js, 2.js, 3.js, o que torna o processo de reconhecer quais arquivos foram importados difÃ­cil. Usando &lt;code&gt;webpackChunkName&lt;/code&gt; nÃ³s podemos renomear o chunk, Ã© importante lembrar que para esse comentÃ¡rio mÃ¡gico funcionar nÃ³s devemos estar usando &lt;code&gt;output.chunkFileName: [name].whateverDoYouWantHere.js&lt;/code&gt; no arquivo de configuraÃ§Ã£o do Webpack.&lt;/p&gt;
&lt;p&gt;Isso Ã© Ãºtil apenas no modo de desenvolvimento, entÃ£o podemos fazer algo do tipo ao importar o arquivo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;process&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;NODE_ENV&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;===&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;development&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/* webpackChunkName: &quot;my-chunk-name&quot; */&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;path/to/myModule.js&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;path/to/myModule.js&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O &lt;code&gt;if&lt;/code&gt; vai ser removido se o build estiver sendo rodado em modo de produÃ§Ã£o, e o &lt;code&gt;else&lt;/code&gt; se estiver rodando em modo de desenvolvimento. Isso Ã© conhecido como &lt;code&gt;dead-code elimination&lt;/code&gt; ou em pt-br eliminaÃ§Ã£o do cÃ³digo morto, ferramentas como Uglify.js e outras usam isso para reduzir o tamanho do arquivo final.&lt;/p&gt;
&lt;h3&gt;webpackMode&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/* webpackMode: &quot;lazy&quot; */&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;path/to/themes/&lt;/span&gt;&lt;span&gt;${&lt;/span&gt;&lt;span&gt;theme&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O comentÃ¡rio mÃ¡gico &lt;code&gt;webpackMode&lt;/code&gt; pode receber 4 tipos de valores:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lazy: gera um chunk para cada arquivo importado dinamicamente, melhor opÃ§Ã£o para ser usado em produÃ§Ã£o.&lt;/li&gt;
&lt;li&gt;lazy-once: gera um chunk apenas que pode satisfazer a condiÃ§Ã£o do import dinÃ¢mico, melhor opÃ§Ã£o para o modo de desenvolvimento reduzindo o tempo de de gerar os arquivos finais do Webpack.&lt;/li&gt;
&lt;li&gt;eager: nÃ£o gera nenhum chunk extra, todos os mÃ³dulos sÃ£o gerados em apenas um arquivo e nenhum request extra Ã© feito.&lt;/li&gt;
&lt;li&gt;weak: Ãºtil para universal rendering / ou server side rendering, onde os arquivos sÃ£o servidos manualmente no primeiro render. O que acontece Ã© que ao requisitar um mÃ³dulo uma promisse Ã© sempre retornada, mas essa promisse sÃ³ retorna com sucesso se requisitada pelo client side. Um novo request nunca Ã© feito, pois os arquivos jÃ¡ estÃ£o no client pois foram servidos pelo servidor.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Prefetch e Preload&lt;/h3&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/* webpackPrefetch: true */&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;path/to/themes/&lt;/span&gt;&lt;span&gt;${&lt;/span&gt;&lt;span&gt;theme&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/* webpackLoad: true */&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;path/to/themes/&lt;/span&gt;&lt;span&gt;${&lt;/span&gt;&lt;span&gt;theme&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;`&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Os dois comentÃ¡rios mÃ¡gicos, irÃ£o criar uma tag link com &lt;code&gt;rel=prefetch&lt;/code&gt; ou &lt;code&gt;rel=preload&lt;/code&gt; automaticamente para vocÃª fazer o prefetching ou preloading dos seus chunks dependendo da implementaÃ§Ã£o. Se vocÃª nÃ£o sabe o que prefetch e preload links fazem, eu recomendo
a leitura do post &lt;a href=&quot;https://medium.com/reloading/preload-prefetch-and-priorities-in-chrome-776165961bbf&quot;&gt;Preload, Prefetch And Priorities in Chrome&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Essas foram minhas anotaÃ§Ãµes do curso &lt;a href=&quot;https://frontendmasters.com/courses/performance-webpack/&quot;&gt;Web performance with webpack&lt;/a&gt;. Espero que vocÃª tenha aprendido alguma coisa nova hoje, te vejo no prÃ³ximo post! â¤ï¸&lt;/p&gt;</content:encoded></item><item><title>IntroduÃ§Ã£o a state charts em aplicaÃ§Ãµes web</title><link>https://dielduarte.dev/blog/pt-br/introducao-a-state-charts-em-aplicacoes-web/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/introducao-a-state-charts-em-aplicacoes-web/</guid><description>Era uma vez um Front-end que nÃ£o conhecia State Chartse e tinha uma tarefa muito &quot;simples&quot;...</description><pubDate>Sun, 01 Nov 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Era uma vez um Front-end que nÃ£o conhecia State Charts e tinha uma tarefa muito &quot;simples&quot;, construir um componente de input. O  &quot;simples&quot; input para ediÃ§Ã£o de um nome tinha algumas variaÃ§Ãµes de estados:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;inicial&lt;/code&gt;: O input aparece desabilitado, o usuÃ¡rio pode entÃ£o clicar no Ã­cone de editar.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;editando&lt;/code&gt;: O input estÃ¡ habilitado para receber o novo valor de nome, o usuÃ¡rio pode entÃ£o clicar no Ã­cone de salvar.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;salvando&lt;/code&gt;: No lugar dos Ã­cones de editar/salvar mostramos um loading sinalizando que alguma aÃ§Ã£o assÃ­ncrona estÃ¡ acontecendo, nesse caso, estamos salvando o novo valor de nome.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;Nosso querido Front-end comeÃ§ou a implementaÃ§Ã£o com duas variÃ¡veis boleanas:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E uma funÃ§Ã£o de &lt;em&gt;&lt;strong&gt;onClick&lt;/strong&gt;&lt;/em&gt; que recebia por parametro os valores de &lt;code&gt;isEditing&lt;/code&gt; e &lt;code&gt;isSaving&lt;/code&gt;.  Seu pensamento foi: A primeira vez que a funÃ§Ã£o de onClick for chamada, estamos no estado inicial, logo preciso enviar o usuÃ¡rio para o estado de &lt;em&gt;&lt;strong&gt;editando&lt;/strong&gt;&lt;/em&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Ao chegar no estado de ediÃ§Ã£o e sabendo que o usuÃ¡rio poderia novamente clicar no Ã­cone que dessa vez se transformava no Ã­cone para salvar, o mesmo continuou sua implementaÃ§Ã£o adicionando mais um trecho cÃ³digo na funÃ§Ã£o de &lt;em&gt;&lt;strong&gt;onClick&lt;/strong&gt;&lt;/em&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;saveName&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O trecho de cÃ³digo adicionado primeiro testa se o usuÃ¡rio estÃ¡ no estado de &lt;em&gt;&lt;strong&gt;ediÃ§Ã£o&lt;/strong&gt;&lt;/em&gt;, caso verdadeiro, faz o switch das variÃ¡veis para levar o usuÃ¡rio para o estado de &lt;em&gt;&lt;strong&gt;salvando&lt;/strong&gt;&lt;/em&gt;, e logo em seguida faz um request na api para salvar o novo valor de nome. Ao receber um retorno da api, resetamos as duas variÃ¡veis boleanas para false, pois agora, o usuÃ¡rio nÃ£o estÃ¡ editando e nem salvando um novo valor, o que supostamente levaria o usuÃ¡rio para o estado &lt;em&gt;&lt;strong&gt;inicial&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;NÃ£o muito confiante na soluÃ§Ã£o, deu a task como terminada e seguiu sua vida.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;...Era uma vez um designer, que esqueceu de trabalhar no estado de erro do &quot;simples&quot; componente de input.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;â€œHey dev, Esqueci de um detalhe, nÃ£o tratamos o estado de erro do input. Quando der erro, volta pro estado de ediÃ§Ã£o por que o cliente pode tentar salvar novamente.â€&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mesmo sabendo que a soluÃ§Ã£o atual nÃ£o era a ideal, continuou com a mesma implementaÃ§Ã£o para adicionar o estado de erro, agora, ao invÃ©s de 2 variÃ¡veis boleanas, seriam trÃªs:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;isError&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Essa pequena adiÃ§Ã£o resultou na funÃ§Ã£o de onClick abaixo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;isError&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;isError&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;saveName&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isError&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isSaving&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;isEditing&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;false;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Task concluida novamente.
DesconfortÃ¡vel com a soluÃ§Ã£o final, foi pesquisar. Afinal, qual o problema com variÃ¡veis boleanas?&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;O problema Ã© que como na imagem acima, apesar de parecer inofensiva e Ã³bvio, 1 variÃ¡vel boleana representa duas variaÃ§Ãµes. O porÃ©m que ninguÃ©m lembra Ã© que adicionando mais de uma variÃ¡vel, suas variaÃ§Ãµes crescem exponencialmente. Com trÃªs variÃ¡veis boleanas como no exemplo acima, temos 8 variaÃ§Ãµes.&lt;/p&gt;
&lt;p&gt;E aÃ­, vocÃª acha que o cÃ³digo acima estÃ¡ preparado para lidar com 8 variaÃ§Ãµes? A resposta infelizmente Ã©: nÃ£o. Seu cÃ³digo pode parecer simples e estar 99% vunerÃ¡vel a bugs.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Sabendo disso, podemos fazer diferente, podemos mapear todos os estados em uma constante:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;IDLE&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;IDLE&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;EDITING&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;EDITING&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;SAVING&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;SAVING&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;ERROR&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;ERROR&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Podemos tambÃ©m criar um objeto que nos diga qual o estado atual e qual o prÃ³ximo estado, exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;nextState&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;IDLE&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;EDITING&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;EDITING&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;SAVING&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;SAVING&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;IDLE&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;ERROR&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;ERROR&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;SAVING&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Limitaremos entÃ£o o estado do input para apenas UM estado por vez:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;inputState&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;IDLE&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E nossa funÃ§Ã£o de onClick receberia apenas o nosso estado atual por parÃ¢metro, e usando o objecto nextState, saberiamos qual o prÃ³ximo estado deverÃ­amos mover nosso componente. Exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;onClick&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;currentInputState&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;currentInputState&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;===&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;EDITING&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;saveName&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;then&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;currentInputState&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;===&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;nextState&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;saving&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;catch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;currentInputState&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;===&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;nextState&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;stateType&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;saving&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;currentInputState&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;nextState&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;currentInputState&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Podemos resumir nossa histÃ³ria em problema e soluÃ§Ã£o:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Problema:&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Manter o estado usando variÃ¡veis condicionais ficou confuso, alÃ©m de obrigar a tratar todos os edge cases e rezar para que o estado nÃ£o caÃ­sse em possÃ­veis combinaÃ§Ãµes que nÃ£o foram tratadas.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SoluÃ§Ã£o:&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ter um Ãºnico estado por vez e definir as transiÃ§Ãµes entre estados atravÃ©s de um evento.&lt;/p&gt;
&lt;h2&gt;&lt;/h2&gt;
&lt;p&gt;Nossa soluÃ§Ã£o tem um nome: &lt;code&gt;Finite State Machines&lt;/code&gt;, mas a final oq Ã© Finite State Machines?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Uma MÃ¡quina de estados finita (Finite State Machines ou FSM) Ã© um modelo matemÃ¡tico usado para representar programas de computadores ou circuitos lÃ³gicos. O conceito Ã© concebido como uma mÃ¡quina abstrata que deve estar em &lt;strong&gt;UM&lt;/strong&gt; de um nÃºmero finito de estados.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;source: &lt;a href=&quot;https://pt.wikipedia.org/wiki/M%C3%A1quina_de_estados_finita&quot;&gt;https://pt.wikipedia.org/wiki/MÃ¡quina_de_estados_finita&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Uma forma bem simples de representar FSM Ã© usando um diagrama de transiÃ§Ã£o de estados, onde o conseguimos vizualizar todo o fluxo de transiÃ§Ã£o de estados por exemplo:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;comeÃ§ando em um estado A â‡’ um vento X aconteceu â‡’ vamos para um estado B&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;Finite State Machines? State charts? que confusÃ£o!&lt;/h3&gt;
&lt;p&gt;Quando comeÃ§amos a estudar mais sobre Finete State Machines vamos sempre nos deparar com um outro nome que Ã© &lt;code&gt;State Charts&lt;/code&gt;, mas a propÃ³sito qual a grande diferenÃ§a entre eles?&lt;/p&gt;
&lt;p&gt;Como qualquer soluÃ§Ã£o, Finite State Machines por sÃ­ sÃ³ tem alguns problemas, geralmente acabam com um grande nÃºmero de estados, muitos deles com transiÃ§Ãµes idÃªnticas, tornando muito verboso e de difÃ­cil manutenÃ§Ã£o. Este Ã© o famoso problema conhecido como explosÃ£o de estados.&lt;/p&gt;
&lt;p&gt;State Charts por sua vez, apareceu pouco tempo depois adicionando soluÃ§Ãµes para que FSM fossem mais escalÃ¡vel a medida que o seu sistema fosse crescendo e ficando mais complexo. AlÃ©m de novas ideias para tornar sua vida mais fÃ¡cil.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Vale lembrar que a ideia foi apresentada hÃ¡ mais de 20 anos atrÃ¡s, alÃ©m de ser uma das bases da computaÃ§Ã£o, Ã© usada largamente em hardware embarcados e games! Com o aparecimento da lib Xstate que vamos descobrir no prÃ³ximo post, o uso na web e pricipalmente usando Javascript estÃ¡ crescendo cada vez mais. Apenas para deixar um gostinho do que vamos ver no prÃ³ximo artigo e tambÃ©m sobre uma das maiores vantagens de se usar State Charts que Ã© o poder de vizualizar seu cÃ³digo, dÃ¡ uma olhada como ficaria nosso codigo do componente de input usando Xstate:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://xstate.js.org/viz/?gist=d73e129d583ac4a0ba956736e68dbdd2&quot;&gt;https://xstate.js.org/viz/?gist=d73e129d583ac4a0ba956736e68dbdd2&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;NÃ£o se preocupe se nÃ£o entendeu o cÃ³digo, vamos aprender tudo sobre o uso de Xstate e State Charts em uma aplicaÃ§Ã£o real no prÃ³ximo artigo!&lt;/p&gt;
&lt;h3&gt;Estado? Ã‰ tipo redux?&lt;/h3&gt;
&lt;p&gt;Quando trabalhamos com State Charts, os famosos estados nÃ£o sÃ£o os estados dinÃ¢micos ou relacionados a dados de uma aplicaÃ§Ã£o e sim em qual cenÃ¡rio de uma possibilidade finita e prÃ© estabelecida uma aplicaÃ§Ã£o estÃ¡, lembre-se da regra de ouro, uma aplicaÃ§Ã£o pode estar em UM Ãºnico estado por vez. Exemplo:&lt;/p&gt;
&lt;p&gt;Sua aplicaÃ§Ã£o pode estar no estado de loading e ter um contexto &lt;code&gt;user=null&lt;/code&gt;, em uma prÃ³ximo momento sua aplicaÃ§Ã£o estaria em um estado de logado e ter um contexto &lt;code&gt;user={ id: 1, name:  &apos;Diel&apos; }&lt;/code&gt;. Com esse exemplo fica fÃ¡cil assimilar que o estado como estamos acostumados no Redux ou outras opÃ§Ãµes sÃ£o chamados de contexto no mundo dos statecharts.&lt;/p&gt;
&lt;p&gt;Te vejo no prÃ³ximo post, onde vamos aprender a como modelar uma aplicaÃ§Ã£o utilizando State Charts e Xstate.&lt;/p&gt;</content:encoded></item><item><title>Modelando sua primeira aplicaÃ§Ã£o com Statecharts e Xstate</title><link>https://dielduarte.dev/blog/pt-br/modelando-sua-primeira-aplicacao-com-statecharts-e-xstate/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/modelando-sua-primeira-aplicacao-com-statecharts-e-xstate/</guid><description>Nesse e nos prÃ³ximos posts vamos contruir uma aplicaÃ§Ã£o utilizando Statecharts e a ajuda da lib Xstate...</description><pubDate>Sun, 22 Nov 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Nesse e nos prÃ³ximos posts vamos contruir uma aplicaÃ§Ã£o utilizando Statecharts e a ajuda da lib Xstate. Os posts serÃ£o quebrados em 2 partes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;O post que vocÃª estÃ¡ lendo serÃ¡ como modelar sua aplicaÃ§Ã£o utilizando Statecharts e Xstate/Viz onde vamos cubrir alguns dos principais conceitos de Statecharts.&lt;/li&gt;
&lt;li&gt;Escrevendo sua aplicaÃ§Ã£o com React e Xstate&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sem mais delongas, bora pro post de hoje!&lt;/p&gt;
&lt;p&gt;Antes de comeÃ§armos a modelar uma aplicaÃ§Ã£o, precisamos entender um pouco mais sobre alguns dos conceitos de Statecharts, vale lembrar tambÃ©m que todos os exemplos serÃ£o usando Xstate mas vocÃª nÃ£o precisa de nenhuma lib para comeÃ§ar usar hoje mesmo. Durante o desenvolvimento do modelo, vamos cobrir os seguintes conceitos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;context&lt;/li&gt;
&lt;li&gt;state&lt;/li&gt;
&lt;li&gt;invoke&lt;/li&gt;
&lt;li&gt;actions&lt;/li&gt;
&lt;li&gt;guards&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Uma das features mais legais do Xstate Ã© poder vizualizar seu cÃ³digo, hoje vamos usar o xstate/viz que vai nos ajudar a criar nosso modelo. Antes de mais nada, abra o seguinte link: xstate/viz , vocÃª provavelmente verÃ¡ uma pÃ¡gina igual a da imagem abaixo, ele irÃ¡ iniciar com uma fetch machine e com o cÃ³digo do exemplo do lado direito.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;A primeira coisa que vamos fazer Ã© atualizar o cÃ³digo no Xstate/Viz para o cÃ³digo abaixo e clicar em update:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;O cÃ³digo acima Ã© o cÃ³digo basico para iniciarmos uma nova State Machine, cada state machine recebe um id Ãºnico, um estado inicial e claro, a lista de estados disponÃ­veis. O resultado serÃ¡:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;A primeira coisa a se fazer Ã© pensar em quais estados nossa aplicaÃ§Ã£o pode ter, nesse exemplo vamos criar uma aplicaÃ§Ã£o que, ao clicar em um botÃ£o busca de uma API uma imagem de um gatinho. A aplicaÃ§Ã£o tambÃ©m tratarÃ¡ errors na api, habilitando o usuÃ¡rio a tentar novamente por 3 vezes consecutivas caso a API retorne errors.&lt;/p&gt;
&lt;p&gt;Com essa breve descriÃ§Ã£o podemos entÃ£o dizer que nossa aplicaÃ§Ã£o terÃ¡ os seguintes estados:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;idle&lt;/li&gt;
&lt;li&gt;loading&lt;/li&gt;
&lt;li&gt;success&lt;/li&gt;
&lt;li&gt;error&lt;/li&gt;
&lt;li&gt;cant_retry&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O resultado em cÃ³digo ficaria assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E o resultado no xstate/viz:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;NÃ£o se preocupe caso vocÃª esqueÃ§a de algum estado da primeira vez, aos poucos e com prÃ¡tica vocÃª vai pegando maldade e vai conseguir ser mais assertivo em quais estados sua aplicaÃ§Ã£o ou seu componente deve ter. Alterar caso precise Ã© mais simples do que parece, vocÃª pode usar o xstate/viz para te ajudar a vizualizar as mudanÃ§as e testar todos os fluxos possÃ­veis.&lt;/p&gt;
&lt;p&gt;Lembra do nosso diagrama de transiÃ§Ã£o de estados falado no primeiro post dessa sÃ©rie, onde mostramos que comeÃ§ando em um estado A â‡’ um vento X aconteceu â‡’ vamos para um estado B ? O prÃ³ximo passo Ã© definir quais eventos dentro do seu sistema forÃ§a uma transiÃ§Ã£o de estado. Exemplo, quando estamos no estado inicial (&lt;strong&gt;idle)&lt;/strong&gt; podemos dizer que o evento &lt;strong&gt;LOAD_NEW_PICTURE&lt;/strong&gt; forÃ§a uma transiÃ§Ã£o para o estado &lt;strong&gt;loading&lt;/strong&gt; ou seja:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;idle â‡’ LOAD_NEW_PICTURE â‡’ loading&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;loading â‡’ ON_DONE â‡’ sucess&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;loading â‡’ ON_ERROR â‡’ error&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;success â‡’ LOAD_NEW_PICTURE â‡’ loading&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;error â‡’ RETRY â‡’ loading&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Em cÃ³digo ficaria:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;ON_DONE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;ON_ERROR&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;e no xstate/viz:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Vizualizar seu cÃ³digo Ã© muito interessante, no exemplo acima, podemos ver nitidamente qual evento leva a aplicaÃ§Ã£o para outro estado e todos os fluxos possÃ­veis. E inclusive furos no sistema, veja como o estado cant_retry nunca acontecerÃ¡ pois nenhum evento forÃ§a uma transiÃ§Ã£o atÃ© ele ğŸ¤·â€â™‚ï¸ mas calma, nÃ³s vamos chegar lÃ¡.&lt;/p&gt;
&lt;h3&gt;Context&lt;/h3&gt;
&lt;p&gt;Context Ã© uma feature da lib Xstate que ter permite salvar contextos dinÃ¢micos dependendo do estado que sua aplicaÃ§Ã£o estÃ¡. Context nesse caso Ã© o nosso famoso estado como estamos acostumados a usar com outras libs como Redux, Mobx, Context Api no caso de usar com React, ou atÃ© mesmo um simples componente state.&lt;/p&gt;
&lt;p&gt;Nesse caso, nosso contexto serÃ¡ a nossa foto atual para ser exibida e a quantidade de vezes que o usuÃ¡rio tentou buscar uma nova foto em caso de erros, precisamos iniciar nossa machine com o contexto inicial, o cÃ³digo entÃ£o ficaria dessa forma:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;ON_DONE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;ON_ERROR&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perceba que nesse caso, nÃ£o temos nenhuma alteraÃ§Ã£o nos estados da aplicaÃ§Ã£o. Mas no xstate/viz se vocÃª abrir a aba chamada &lt;code&gt;State&lt;/code&gt; vocÃª pode ver que ele te mostra qual o estado atual da aplicaÃ§Ã£o e qual os valores do contexto naquele momento.&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;h3&gt;Trabalhando com aÃ§Ãµes assÃ­ncronas&lt;/h3&gt;
&lt;p&gt;Em qualquer aplicaÃ§Ã£o sempre teremos aÃ§Ãµes que sÃ£o assÃ­ncronas e os resultados dessas aÃ§Ãµes podem ou nÃ£o resultar em uma transiÃ§Ã£o de estado. Usando Xstate chamamos isso de Services, e chamar um serviÃ§o Ã© tÃ£o fÃ¡cil e declarativo quanto qualquer outro conceito.&lt;/p&gt;
&lt;p&gt;No nosso exemplo, o serviÃ§o serÃ¡ uma promise que vai fazer o request para buscar uma nova foto. O resultado dessa promise, se com sucesso ou erro gerara transiÃ§Ãµes de estados. Pensando em um fluxo de dados quando a aplicaÃ§Ã£o sai do estado de ocioso(idle) para loading Ã© nesse momento que devemos entÃ£o fazer nosso request. Preste bem atenÃ§Ã£o no estado de loading no proximo exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;undefined&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;services&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;fetch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;SubstituÃ­mos nossos eventos por uma key chamada &lt;strong&gt;invoke,&lt;/strong&gt; que recebe nesse exemplo, 3 configuraÃ§Ãµes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;src&lt;/strong&gt;:  Ã‰ uma funÃ§Ã£o que retorna uma promisse. No nosso cÃ³digo estamos passando apenas o nome da funÃ§Ã£o que serÃ¡ chamada  e como segundo parÃ¢metro da funÃ§Ã£o &lt;strong&gt;Machine&lt;/strong&gt;, passamos um objeto com a key &lt;strong&gt;services&lt;/strong&gt; que nada mais Ã© que outro objeto com todos os serviÃ§os que podem ser chamados.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;onDone&lt;/strong&gt;: Qual o prÃ³ximo estado vamos redirecionar nossa machine se tudo ocorrer bem.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;onError&lt;/strong&gt;: Qual o prÃ³ximo estado vamos redirecionar nossa machine se algum erro acontecer.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vale lembrar que um serviÃ§o pode ser uma promisse, observables, callback ou outra machine.&lt;/p&gt;
&lt;p&gt;A vizualizaÃ§Ã£o do nosso cÃ³digo ficaria assim:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Da pra perceber que o viz coloca invoke / nome do serviÃ§o dentro da quadradinho que representa o estado atual e tambÃ©m o nome do serviÃ§o dentro de um parÃªnteses nos eventos simbolizando que aquele evento estÃ¡ relacionado ao serviÃ§o chamado.&lt;/p&gt;
&lt;h3&gt;Actions&lt;/h3&gt;
&lt;p&gt;Actions sÃ£o funÃ§Ãµes do tipo fire-and-forget, ou seja, funÃ§Ãµes  que nÃ£o geram uma transiÃ§Ã£o de estados. As actions porÃ©m, sÃ£o muito usadas para rodar qualquer tipo de side effect que podem atualizar nosso contexto.&lt;/p&gt;
&lt;p&gt;No nosso exemplo, quando a promisse que busca uma nova foto retorna precisamos chamar uma action para atualizar o valor do nosso contexto currentImageUrl.&lt;/p&gt;
&lt;p&gt;Qualquer transiÃ§Ã£o de estado dentro do Xstate pode receber apenas uma string com o nome do novo estado ou um objeto de configuraÃ§Ã£o, onde passamos o target que representa o prÃ³ximo estado e outras configuraÃ§Ãµes como por exemplo, uma action. Nesse caso vamos alterar nosso invoke objeto para:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perceba que passamos apenas uma string que Ã© referÃªncia para uma funÃ§Ã£o action, tambÃ©m vamos passar a action no segundo parametro da funÃ§Ã£o Machine, dessa forma, eu acredito que fica mais simples de ler nossa machine. O cÃ³digo final ficaria assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;undefined&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;services&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;fetch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;data&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;imageUrl&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Uma action recebe por parÃ¢metro, o contexto atual e um event, esse event nada mais Ã© do que o retorno do serviÃ§o, como nosso serviÃ§o nesse caso Ã© uma promisse, nosso event serÃ¡ o retorno dela. Caso nosso serviÃ§o fosse um callback por ex, esse event seria a chamada do callback com qualquer informaÃ§Ã£o adicional que o serviÃ§o queira passar para a action.&lt;/p&gt;
&lt;p&gt;A vizualizaÃ§Ã£o do cÃ³digo ficaria assim:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Perceba que o Viz coloca uma lista de aÃ§Ãµes que acontecem quando um evento Ã© disparado com do / nome da action bem abaixo da representaÃ§Ã£o visual de um evento.&lt;/p&gt;
&lt;p&gt;Seguindo nosso exemplo, sempre que a promisse retornar um erro e o usuÃ¡rio envia o evento RETRY devemos incrementar o valor de retryTimes no nosso contexto,  tambÃ©m devemos resetar esse valor caso a promisse retorne com sucesso. Nesse caso, vamos adiconar uma action quando chamamos o evento RETRY e outra quando a promisse retorna com sucesso:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;undefined&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;            &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;            &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;: [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;services&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;fetch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;data&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;imageUrl&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A vizualizaÃ§Ã£o do cÃ³digo ficaria assim:&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Agora vocÃª jÃ¡ sabe reconhecer quando uma action Ã© chamada apenas olhando a vizualizaÃ§Ã£o do cÃ³digo ğŸš€.&lt;/p&gt;
&lt;h3&gt;Guards&lt;/h3&gt;
&lt;p&gt;Guards sÃ£o usados para garantir que uma transiÃ§Ã£o de estado que depende de alguma regra de negocio seja feita com seguranÃ§a, usando o nosso exemplo, quando a promisse que busca uma nova foto retorna um erro, o usuÃ¡rio pode tentar buscar novamente por 3 vezes. Ao tentar 3 vezes e sem sucesso, o usuÃ¡rio Ã© entÃ£o redirecionado para um estado onde ele nÃ£o pode mais tentar buscar uma nova foto.&lt;/p&gt;
&lt;p&gt;Para fazer isso acontecer iremos usar os guards, o jeito de configurar um guard Ã© bem simples, no nosso caso, o evento RETRY vai conter duas possÃ­veis branchs:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;  error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       ]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Nesse caso nada acontece, pois ainda nÃ£o adicionamos o nosso guard, para adicionar um ou mais guards basta colocar uma key cond na branch que deve ser redirecionada apenas se o guard retornar true. As branchs sÃ£o sempre lidas por ordem que foram declaradas, ou seja, nesse caso vamos colocar nosso guard na primeira branch, caso o retorno do guard seja falso iremos entÃ£o para a prÃ³xima opÃ§Ã£o que vai entÃ£o forÃ§ar uma transiÃ§Ã£o de estado para o estado cant_retry,  nosso cÃ³digo ficaria assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;  error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;cond&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       ]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Novamente usamos a string para referenciar ao nome da funÃ§Ã£o guard que estarÃ¡ no segundo parÃ¢metro do mÃ©todo Machine, cÃ³digo final ficaria assim:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;undefined&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;         &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;cond&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	       ]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;services&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;fetch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;data&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;imageUrl&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;guards&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&amp;lt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;Perceba que agora nosso estado cant_retry tem uma ligaÃ§Ã£o com o evento Retry, e nÃ³s temos dois eventos Retry que representam por ordem as branchs que declaramos. Perceba tambÃ©m que a primeira branch dentro do evento tem um array de guards e os nomes dessas condiÃ§Ãµes, um guard fica verde em caso retorne true e vermelho em caso retorne false representando que aquele evento nÃ£o vai acontecer.&lt;/p&gt;
&lt;h3&gt;Type final&lt;/h3&gt;
&lt;p&gt;Estados do tipo final, representam que aquela machine estÃ¡ terminada, ou seja, nenhum evento ou transiÃ§Ã£o irÃ¡ acontecer depois que a machine chegar a esse estado. No nosso exemplo, o estado cant_retry Ã© nosso estado final. Vale lembrar que uma machine nÃ£o necessariamente precisa ter um estado final.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Machine&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;catsApp&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;initial&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	    &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;states&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;idle&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;invoke&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onDone&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				    &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;				  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;onError&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;success&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;          &lt;/span&gt;&lt;span&gt;LOAD_NEW_PICTURE&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;error&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;on&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;         &lt;/span&gt;&lt;span&gt;RETRY&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;loading&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;cond&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	          &lt;/span&gt;&lt;span&gt;target&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	       ]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;cant_retry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;        &lt;/span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;final&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;      &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;services&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;fetchNewPicture&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;fetch&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;actions&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;setCurrentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;currentImageUrl&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;event&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;data&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;imageUrl&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;resetRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;incrementRetryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;       &lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;},&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;guards&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;     &lt;/span&gt;&lt;span&gt;canRetry&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;context&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;retryTimes&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&amp;lt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;   &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Bom modelar uma aplicaÃ§Ã£o parece divertido agora, principalmente sabendo que todo o cÃ³digo que escrevemos nessa tarefa Ã© o mesmo cÃ³digo que serÃ¡ usado na aplicaÃ§Ã£o final. No prÃ³ximo post iremos de fato usar esse codigo e criar nossa aplicaÃ§Ã£o front-end usando react e xstate.&lt;/p&gt;
&lt;p&gt;Te vejo lÃ¡!&lt;/p&gt;</content:encoded></item><item><title>O jeito mais simples de entender identity functors</title><link>https://dielduarte.dev/blog/pt-br/o-jeito-mais-simples-de-entender-functors/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/o-jeito-mais-simples-de-entender-functors/</guid><description>O jeito mais fÃ¡cil de entender functors na minha humilde opiniÃ£o Ã© o conceito...</description><pubDate>Tue, 14 Jul 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Eu realmente gosto de linguagens funcionais, e eu tenho estudado algumas nos Ãºltimos anos como Elm e agora Reason apenas por diversÃ£o. Nunca fiz nada sÃ©rio com essas linguagens como um App em produÃ§Ã£o em alguma empresa que trabalhei, mas eu gosto de trazer conceitos dessas linguagens para o Javascript. Meu problema Ã© que de alguma forma eu sempre acabo frustrado quando estou estudando alguns dos conceitos de programaÃ§Ã£o funcional,&lt;/p&gt;
&lt;p&gt;como functors.&lt;/p&gt;
&lt;h2&gt;Mais oque realmente sÃ£o functors?&lt;/h2&gt;
&lt;p&gt;O jeito mais fÃ¡cil de entender functors na minha humilde opiniÃ£o Ã© o conceito:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Functors sÃ£o funÃ§Åes que retornam o valor passado de uma maneira que vocÃª consegue mapea-lo quantas vezes precisar atÃ© chegar no resultado desejado. Dessa forma, isso vai te ajudar a vizualizar melhor o fluxo de transformaÃ§Ã£o do dado ao invÃ©z de ficar criando vÃ¡rias variÃ¡veis na mÃ©moria para salvar os estados intermediÃ¡rios da transformaÃ§Ã£o que nÃ£o sÃ£o Ãºteis no resultado final. Lembra do mÃ©todo &lt;code&gt;promise.then&lt;/code&gt; que conseguimos encadear vÃ¡rias chamadas &lt;code&gt;.then&lt;/code&gt; tratando cada passo na transformaÃ§Ã£o dos dados.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;talk is cheap, show me the code.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Qualquer tipo de valor pode ser mapeavel com functors como podemos ver no exemplo abaixo onde money Ã© uma string:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;convertMoneyToNumber&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;functor&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;map&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;replace&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;\$&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;map&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;parseFloat&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;//same as .map(money =&amp;gt; parseFloat(money))&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Considerando que temos uma funÃ§Ã£o como essa:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;convertMoneyToNumber&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;moneyWithoutMask&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;replace&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;\$&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;parseFloat&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;moneyWithoutMask&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Vamos criar um helper chamado functor, essa funÃ§Ã£o aceita qualquer tipo de valor e retorna esse valor mapeÃ¡vel como arrays, entÃ£o agora conseguimos encadear chamadas .map transformando qualquer valor no valor desejado.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;const&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;functor&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;anyValue&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;map&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;f&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;functor&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;f&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;anyValue&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;anyValue&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Como podemos ver, a funÃ§Ã£o functor recebe &lt;code&gt;qualquer valor&lt;/code&gt; e retorna um objeto com:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Um mÃ©todo chamado &lt;code&gt;map&lt;/code&gt; que recebe a funÃ§Ã£o e retorna um functor do valor que a funÃ§Ã£o passada retornou, fazendo com que o valor retornado seja mapeÃ¡vel novamente.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Um campo chamado &lt;code&gt;value&lt;/code&gt; que contÃ©m o resultado da ultima funÃ§Ã£o executada, pesquisando vocÃª vai achar variaÃ§Ãµes dessa ideia como o mÃ©todo &lt;code&gt;flatMap&lt;/code&gt; que retorna o valor da funÃ§Ã£o executada sem encapsular o mesmo em um functor, entÃ£o na Ãºltima chamada da pilha de maps ao invÃ©s de chamar &lt;code&gt;map(anyValue).value&lt;/code&gt; vocÃª vai chamar apenas &lt;code&gt;flatMap(anyValue)&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Agora com o nosso functor helper, podemos converter a funÃ§Ã£o convertMoneyToNumber para:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;convertMoneyToNumber&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;return&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;functor&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;map&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;money&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;replace&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;\$&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&apos;&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;	&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;map&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;parseFloat&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;//same as .map(money =&amp;gt; parseFloat(money))&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;    &lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;value&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Agora nÃ³s podemos mapear qualquer tipo de valor transformando seu valor original em um novo valor, nÃ£o apenas arrays! E sÃ³ para deixarmos claro essa Ã© sÃ³ a base da ideia de functors, temos muitas outras variantes e formas de compor functors.&lt;/p&gt;
&lt;p&gt;Eu espero que vocÃª tenha aprendido algo novo hoje!&lt;/p&gt;</content:encoded></item><item><title>Rescript sob o ponto de vista de um dev JS</title><link>https://dielduarte.dev/blog/pt-br/rescript-sob-o-ponto-de-vista-de-um-dev-js/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/rescript-sob-o-ponto-de-vista-de-um-dev-js/</guid><description>Algumas opiniÃµes sobre a linguagem Rescript.</description><pubDate>Tue, 27 Apr 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;VocÃªs sabem que eu gosto muito de estudar sobre novas linguagens, gosto de estudar sobre compiladores e mais. As duas Ãºltimas linguagens que venho estudando sÃ£o go (obrigado &lt;a href=&quot;https://github.com/guilhermehubner&quot;&gt;Guilherme&lt;/a&gt; por me influenciar a usar Go em um projeto paralelo que fazemos juntos, um dos melhores engenheiros que conheÃ§o ğŸ’œ) e Rescript. VocÃªs tambÃ©m sabem que ganho dinheiro como desenvolvedor Javascript/front-end e eu amo isso, mesmo com todos os problemas que temos em Javascript continua uma Ã³tima linguagem, flexÃ­vel e fÃ¡cil para um iniciante usar e para um desenvolvedor avanÃ§ado continuar usando e gostando. A linguagem tambÃ©m Ã© flexÃ­vel o suficiente para rodar em qualquer lugar, Web, Desktop, Mobile, Hardware, vocÃª escolhe! A comunidade Ã© muito ativa, nesse momento provavelmente temos algumas centenas de libs novas no NPM disponÃ­vel.&lt;/p&gt;
&lt;p&gt;Essa Ã© uma apresentaÃ§Ã£o e um artigo juntos, apenas explicando alguns dos pontos que eu considerei importante para dizer: &quot;quer saber? vale a pena aprender Rescript e usar no dia a dia.&quot;. Esse nÃ£o Ã© um artigo para dizer que eu odeio Typescript, simplesmente porque eu nÃ£o odeio typescript. Eu venho trabalhando com Typescript nos Ãºltimos dois anos e gosto muito, mas o fato de gostar nÃ£o me impede de ver que TS tem seus problemas e muito o que melhorar como qualquer outra linguagem no mundo.&lt;/p&gt;
&lt;p&gt;No final, tudo que eu quero Ã© me sentir produtivo usando algo para resolver problemas, mas os problemas certos. Eu quero me sentir confortÃ¡vel em refatorar uma grande quantidade de cÃ³digo e se o compilador compilou com sucesso tudo vai estar certo, de verdade. Eu quero escrever mais e fazer menos porque eu sei que o compilador nÃ£o vai deixar alguÃ©m usar as funÃ§Ãµes escritas da maneira errada, uma melhor inferÃªncia. Eu quero que isso seja rÃ¡pido, tÃ£o rÃ¡pido que eu vou salvar o arquivo duas vezes sÃ³ pra ter certeza que funcionou ao invÃ©z de abrir uma nova aba do twitter, Rescript.&lt;/p&gt;
&lt;p&gt;Essa foi a maior introduÃ§Ã£o que eu jÃ¡ fiz, o que mostra o quÃ£o interessado eu estou. Daqui pra baixo vou falar sobre os pontos que me chamaram a atenÃ§Ã£o sobre Rescript para comeÃ§ar a aprender mais sobre a linguagem. NÃ£o significa que eu estou certo, apenas opinÃµes.&lt;/p&gt;
&lt;h2&gt;IntegraÃ§Ã£o com JavaScript&lt;/h2&gt;
&lt;p&gt;Aqui vai uma ideia para vocÃª: Javascript Ã© a linguagem da web! JavaScript estÃ£ em todos os lugares! Sempre aposte no JavaScript! Mesmo que vocÃª nÃ£o goste disso, Ã© a verdade. EntÃ£o, um dos primeiros pontos que eu olhei foi o quÃ£o fÃ¡cil seria usar algum cÃ³digo ou lib JavaScript sem precisar reescrever isso para Rescript.&lt;/p&gt;
&lt;p&gt;E por quÃª? Porque eu nÃ£o quero parar de usar JavaScript. Se alguma Tec nova super legal como Xstate surgir ou uma nova API no Browser, eu quero ser capaz de usar no meu cÃ³digo Rescript de alguma forma, mesmo se a linguagem nÃ£o tem suporte oficial para isso ainda. Isso precisa ser fÃ¡cil e rÃ¡pido de criar se precisar.&lt;/p&gt;
&lt;p&gt;Vamos supor que eu queira usar Lodash, esperando por comentÃ¡rios: &quot;vocÃª nÃ£o precisar usar lodash, bla bla bla...&quot; Eu aposto que Lodash jÃ¡ salvou sua vida muitas vezes e Ã© sÃ³ um exemplo. Continuando, tudo que vocÃª precisaria fazer seria definir um arquivo de bindings muito similar com o que fariamos em Typescript, por exemplo:&lt;/p&gt;
&lt;p&gt;NÃ³s criamos um arquivo &lt;code&gt;Lodash.res&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@&lt;/span&gt;&lt;span&gt;module&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;lodash/chunk&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;external&lt;/span&gt;&lt;span&gt; chunk&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;array&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&amp;gt;, int) =&amp;gt; array&amp;lt;array&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;default&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E entÃ£o em algum outro arquivo, usariamos o mÃ³dulo Lodash:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;chunks&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;chunk&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;VocÃª tambÃ©m pode exportar muitas funÃ§Ãµes do mesmo mÃ³dulo, voltando ao nosso arquivo &lt;code&gt;Lodash.res&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;@&lt;/span&gt;&lt;span&gt;module&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;lodash&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;external&lt;/span&gt;&lt;span&gt; chunk&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;array&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&amp;gt;, int) =&amp;gt; array&amp;lt;array&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;chunk&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;@&lt;/span&gt;&lt;span&gt;module&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;lodash&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;external&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;difference&lt;/span&gt;&lt;span&gt;: &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;array&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&amp;gt;, array&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;array&lt;/span&gt;&lt;span&gt;&amp;lt;&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;a&amp;gt; = &quot;difference&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E usar da mesma forma:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;chunks&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;chunk&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;difference&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;difference&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;])&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Output legÃ­vel&lt;/h2&gt;
&lt;p&gt;O cÃ³digo gerado pelo compilador do Rescript Ã© legÃ­vel para humanos, limpo e mÃ­nimo. O que faz o tamanho do nosso bundle ser bem similar como se fosse alguma pessoa escrevendo o Javascript. Veja o examplo do cÃ³digo acima gerado pelo compilador:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;// Generated by ReScript, PLEASE EDIT WITH CARE&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;import&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;*&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;as&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;from&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;lodash&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;var&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;]&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;var&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;chunks&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;chunk&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;var&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;difference&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;difference&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;])&lt;/span&gt;&lt;span&gt;;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;export&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;chunks&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;difference&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;/* chunks Not a pure module */&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Ã‰ Rescript ou JavaScript?&lt;/h2&gt;
&lt;p&gt;Outro ponto importante Ã© sobre a syntax, que Ã© muito parecida com JavaScript. Rescript Ã© outra linguagem diferente do Typescript que Ã© feito baseado em JavaScript, entÃ£o ter uma syntax parecida Ã© muito bom para aprender rÃ¡pido e ser produtivo com a linguagem de forma rÃ¡pida. Para prover esse ponto, vamos fazer um exercÃ­cio chamado: &quot;Ã‰ Rescript ou JavaScript?&quot;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ã‰ Rescript ou JavaScript?&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;person&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Big ReScript&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Rescript!&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ã‰ Rescript ou JavaScript?&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwo&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;test&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwo&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;// 12&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Rescript!&lt;/code&gt; JS nÃ£o Ã© curried por default, mais sobre isso abaixo.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Ã‰ Rescript ou JavaScript?&lt;/strong&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;hello&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;world&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;how are you&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;firstItem&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;[&lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;] &lt;/span&gt;&lt;span&gt;// &quot;hello&quot;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;Rescript!&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;De fato, quase todos os exemplos funcionariam nos dois mundos. A diferenÃ§a Ã© que com Rescript nÃ³s teriamos a ajuda do compilar com uma inferÃªncia de tipos maravilhosa para nos ajudar a escrever um cÃ³digo melhor e mais seguro, isso sem nem precisar escrever nenhum tipo atÃ© agora.&lt;/p&gt;
&lt;p&gt;Claro que existem algumas diferenÃ§as tanto de syntax como de como a linguagem funciona, mas sÃ£o tÃ£o pequenas que Ã© apenas saber que elas existem. Por exemplo, ifs:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;showMenu&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;true;&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;if&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;showMenu&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;displayMenu&lt;/span&gt;&lt;span&gt;()&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;else&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;nothing here...&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NÃ³s nÃ£o precisamos usar parenteses em Rescript.&lt;/p&gt;
&lt;h2&gt;Sem Imports&lt;/h2&gt;
&lt;p&gt;Diferente de JS, nÃ£o existe export e import em Rescript. O que acontece Ã© que em Rescript todos os arquivos sÃ£o um modulo e o nome do arquivo precisa ser Ãºnico, mesmo arquivos dentro de pastas sÃ£o acessados de forma global no mesmo nÃ­vel que qualquer outro arquivo. VocÃª sÃ³ precisa usar o NomeDoArquivo que precisa ser em CamelCase ponto o tipo/funÃ§Ã£o que vocÃª quer usar.&lt;/p&gt;
&lt;p&gt;NÃ³s tambÃ©m podemos usar &lt;code&gt;open&lt;/code&gt; e ao invÃ©z de usar &lt;strong&gt;NomeDoModule.AlgumaCoisa&lt;/strong&gt; todas as vezes, nÃ³s fariamos:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;open&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Lodash&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; [&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;chunks&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;chunk&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;myArray&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;NÃ£o ter imports/exports e ter um sistema de mÃ³dulos por arquivo, nos forÃ§a a manter uma estrutura mais flat que tem grandes vantagens a longo prazo.&lt;/p&gt;
&lt;p&gt;Trecho tirado da documentaÃ§Ã£o do Rescript:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, every file&apos;s type declaration, binding and module is exported, aka publicly usable by another file. This also means those values, once compiled into JS, are immediately usable by your JS code.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Sistema de Tipos&lt;/h2&gt;
&lt;p&gt;Bom eu poderia escrever alguma coisa com as minhas palavras, mas o time do Rescript fez um trabalho tÃ£o bom no site da documentaÃ§Ã£o que eu vou apenas colar aqui o trecho sobre tipos:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Types are the highlight of ReScript! They are:&lt;/p&gt;
&lt;p&gt;Strong. A type can&apos;t change into another type. In JavaScript, your variable&apos;s type might change when the code runs (aka at runtime). E.g. a number variable might change into a string sometimes. This is an anti-feature; it makes the code much harder to understand when reading or debugging.&lt;/p&gt;
&lt;p&gt;Static. ReScript types are erased after compilation and don&apos;t exist at runtime. Never worry about your types dragging down performance. You don&apos;t need type info during runtime; we report all the information (especially all the type errors) during compile time. Catch the bugs earlier!&lt;/p&gt;
&lt;p&gt;Sound. This is our biggest differentiator versus many other typed languages that compile to JavaScript. Our type system is guaranteed to never be wrong. Most type systems make a guess at the type of a value and show you a type in your editor that&apos;s sometime incorrect. We don&apos;t do that. We believe that a type system that is sometime incorrect can end up being dangerous due to expectation mismatches.&lt;/p&gt;
&lt;p&gt;Fast. Many developers underestimate how much of their project&apos;s build time goes into type checking. Our type checker is one of the fastest around.&lt;/p&gt;
&lt;p&gt;Inferred. You don&apos;t have to write down the types! ReScript can deduce them from their values. Yes, it might seem magical that we can deduce all of your program&apos;s types, without incorrectness, without your manual annotation, and do so quickly. Welcome to ReScript =).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Vamos explorar um pouco mais essa ideia de inferÃªncia, que Ã© uma das partes mais legais do Rescript. Escreva menos e faÃ§a mais!&lt;/p&gt;
&lt;p&gt;Vamos considerar a seguinte funÃ§Ã£o:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Veja o que o compilador diria se vocÃª tentasse usar essa funÃ§Ã£o passando duas strings ao invÃ©z de numeros:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;We&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;ve found a bug for you&lt;/span&gt;&lt;span&gt;!&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;Users&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;dielduarte&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;localhost&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;testing&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;rescript&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;ExternalLibs&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;res&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt; â”‚&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;11&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;This&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;has&lt;/span&gt;&lt;span&gt; type&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;Somewhere&lt;/span&gt;&lt;span&gt; wanted&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;You&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;can&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;convert&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;to&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;with&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Belt&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;Int&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;fromString&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;FAILED&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;cannot&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;make&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;progress&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;due&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;to&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;previous&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;errors&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Finish&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;compiling&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;exit&lt;/span&gt;&lt;span&gt;: &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Isso Ã© como o compilador do TS deveria funcionar ğŸ˜… com Rescript eu sinto que estou a todo momento programando com um colega do lado. O compilador me mostra o erro, porquÃª, e ainda como resolver o problema e repare novamente, nÃ³s nÃ£o tivemos que escrever nenhum tipo atÃ© entÃ£o.&lt;/p&gt;
&lt;p&gt;Mas como isso Ã© possÃ­vel? Bom, em Rescript usando o sinal &lt;code&gt;+&lt;/code&gt; sÃ³ Ã© valido para numeros, entÃ£o o compilador infere que por default a funÃ§Ã£o Add sÃ³ funciona para numeros. If vocÃª quisesse concatenar strings, teria que usar &lt;code&gt;++&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Variants&lt;/h2&gt;
&lt;p&gt;A maioria das estruturas de dados em linguagens de programÃ§Ã£o sÃ£o sobre &quot;isso e aquilo&quot;. Variants nos permite expressar &quot;isso ou aquilo&quot;.&lt;/p&gt;
&lt;p&gt;Varians no primeiro olhar, se parecem com Enum com superpoderes.&lt;/p&gt;
&lt;p&gt;Um exemplo simples seria:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt; myResponse &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Yes&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; No&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; PrettyMuch&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;areYouCrushingIt&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Yes&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;OlÃ¡ enums, meu velho amigo.&lt;/p&gt;
&lt;p&gt;Mas agora vem os super poderes, uma variant pode conter argumentos separado por uma virgula. Exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt; account &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; None&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Instagram(&lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Facebook&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;int&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;EntÃ£o, para o mesmo tipo vocÃª poderia usar:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;myAccount&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Facebook&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Josh&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;26&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;friendAccount&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Instagram&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Jenny&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Variants tambÃ©m podem receber um Record (objeto):&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt; user &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Number(int)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Id(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; password&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;me&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Id&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Joe&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;password&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;123&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;me&lt;/code&gt; continua sendo do tipo user, mas uma variant diferente. Usar pattern matching + variants Ã© uma tÃ©cnica muito poderosa, e pode atÃ© evitar algumas issues de performance como vocÃª pode ver &lt;a href=&quot;https://rescript-lang.org/docs/manual/latest/variant#design-decisions&quot;&gt;aqui&lt;/a&gt; onde nÃ³s conseguimos reduzir a complexidade do nosso programa de O(n) para O(1).&lt;/p&gt;
&lt;h2&gt;Pattern matching&lt;/h2&gt;
&lt;p&gt;Se variants sÃ£o enums com super poderes, pattern matching Ã© o switch com super poderes. Misturar os dois Ã© ğŸ¤¯&lt;/p&gt;
&lt;p&gt;NÃ³s podemos usar pattern matching para testar variaÃ§Ãµes de qualquer tipo de formas diferentes, o exemplo abaixo estÃ£ testando se temos um &lt;code&gt;Number(id)&lt;/code&gt; ou um &lt;code&gt;Id({ name: Jow&quot;&quot; })&lt;/code&gt; um Id com o nome exatamente igual a Joe ou qualquer &lt;code&gt;Id(options)&lt;/code&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;type&lt;/span&gt;&lt;span&gt; user &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Number(int)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; Id(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; password&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;string&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;me&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Id&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Joe&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;password&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;123&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;me&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Number&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Your id is =&amp;gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;++&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;Int&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;toString&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Id&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Joe&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Welcome Joe!&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Id&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Welcome =&amp;gt;&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;++&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;option&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Pattern matching podem ser usados para testar qualquer tipo, listas, arrays, tuplas, variants e mais. E como se isso nÃ£o fosse o suficiente, pattern matching tambÃ©m Ã© exaustivo. Isso significa que todas as vezes que vocÃª estiver testando uma variavÃ©l, o compilador te obriga a testar todos os padrÃµes que aquela variÃ¡vel pode ter, e se por acaso vocÃª esquecer disso, o compilador te lembra. Vamos supor que eu esqueci de tratar a variant &lt;code&gt;Id&lt;/code&gt; no exemplo acima, o compilador me mostraria o seguinte erro:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;Warning&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;number&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;Users&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;dielduarte&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;localhost&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;test&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;rescript&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;ExternalLibs&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;res&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;7&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;9&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;me&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Id&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Joe&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;password&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;123&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;6&lt;/span&gt;&lt;span&gt; â”‚&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;7&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;me&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Number&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Your id is =&amp;gt; &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;++&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;Int&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;toString&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;id&lt;/span&gt;&lt;span&gt;))&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;9&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;You&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;forgot&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;to&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;handle&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;possible&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;here&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt; example&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;Id&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;_&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Finish&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;compiling&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;128&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;mseconds&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Curried por default&lt;/h2&gt;
Essa Ã© uma das curiosidades sobre Rescript que eu mais curti. Todas as funÃ§Ãµes em Rescript sÃ£o curried por default, isso significa que, nÃ³s podemos usar partial application sempre que for necessÃ¡rio escrevendo menos cÃ³digo para isso.
&lt;p&gt;Em Javascript, para criar o exemplo que usamos acima nÃ³s precisariamos usar closures ou algum helper tipo &lt;a href=&quot;https://lodash.com/docs/4.17.15#curry&quot;&gt;Lodash curry&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;//closure&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwo&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;test&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwo&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;// 12&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Em Rescript nÃ³s escreveriamos a funÃ§Ã£o da mesma forma mas usuarimos de forma parcial:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwo&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;test&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwo&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;// 12&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Labeled arguments&lt;/h2&gt;
&lt;p&gt;Em Javascript/Typescript nÃ³s estamos acostumados a usar um objeto como argumento para saber quais os nomes dos argumentos quando usando a funÃ§Ã£o sem precisar ir para a definiÃ§Ã£o da mesma e tambÃ©m, para poder passar os argumentos em qualquer ordem, exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;function&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;updateUser&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;userOptions&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;...&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;//using the function&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;updateUser&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;Diel&lt;/span&gt;&lt;span&gt;&apos;&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;26&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Em Rescript tambÃ©m Ã© possÃ­vel passar um objeto, MAS, existe algo chamado &quot;labeled arguments&quot; que Ã© basicamente nomear os argumentos com um &lt;code&gt;~&lt;/code&gt; na frente, dessa forma todas as vezes que usar a funÃ§Ã£o poderiamos passar o nome do argumento em qualquer ordem, exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;updateUser&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;...&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;//usando a fn&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;updateUser&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;age&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;26&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;name&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;Diel&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;// arqui vocÃª passar o argumento em qualquer ordem&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lembra que todas as funÃ§Ãµes sÃ£o curried por default? Com labeled arguments nÃ³s podemos usar a funÃ§Ã£o de forma parcial passando os argumentos em qualquer ordem, exemplo:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; (&lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;+&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwoToA&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;add&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;test&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;addTwoToA&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;~&lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt;10&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Rescript nÃ£o tem null nem undefined&lt;/h2&gt;
&lt;p&gt;Isso Ã© Ã³timo! NÃ³s nÃ£o precisamos nos preocupar com categoria inteira de bugs, de toda forma a ideia de ter um valor nÃ£o existente continua sendo muito Ãºtil e por isso Rescript em o Option.&lt;/p&gt;
&lt;p&gt;Um Option pode ser repesentado por &lt;code&gt;Some(Value)&lt;/code&gt; ou &lt;code&gt;None&lt;/code&gt; variants, e todas as vezes que vocÃª utilizar uma variÃ¡vel do tipo Option, Rescript vai te forÃ§ar a tratar todas as variaÃ§Ãµes de forma exaustiva.&lt;/p&gt;
&lt;p&gt;Por exemplo, um avatar de usuÃ¡rio Ã© bem possÃ­vel que seja inexistente em muitas aplicaÃ§Ãµes.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;userAvatar&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Some&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;url...&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;userAvatar&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;None&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;The user doesn&apos;t have an avatar, let&apos;s show initials&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Some&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;The user&apos;s avatar is &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;++&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;E se vocÃª esquecer de tratar uma das variantes, o compilados vai te mostrar:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;Warning&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;number&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;8&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;Users&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;dielduarte&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;localhost&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;testing&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;rescript&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;src&lt;/span&gt;&lt;span&gt;/&lt;/span&gt;&lt;span&gt;ExternalLibs&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;res&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;-&lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;let&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;userAvatar&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;=&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Some&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;url...&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;2&lt;/span&gt;&lt;span&gt; â”‚&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;3&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;switch&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;userAvatar&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;{&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;4&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;|&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Some&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;) &lt;/span&gt;&lt;span&gt;=&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Js&lt;/span&gt;&lt;span&gt;.&lt;/span&gt;&lt;span&gt;log&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt;The user&apos;s avatar is &lt;/span&gt;&lt;span&gt;&quot;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;++&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;url&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;5&lt;/span&gt;&lt;span&gt; â”‚ &lt;/span&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;You&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;forgot&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;to&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;handle&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;a&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;possible&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;case&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;here&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;for&lt;/span&gt;&lt;span&gt; example&lt;/span&gt;&lt;span&gt;:&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;  &lt;/span&gt;&lt;span&gt;None&lt;/span&gt;&lt;/span&gt;
&lt;span&gt;&lt;/span&gt;
&lt;span&gt;&lt;span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;Finish&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;compiling&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;82&lt;/span&gt;&lt;span&gt; &lt;/span&gt;&lt;span&gt;mseconds&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ğŸ˜ As vezes eu queria dar um beijo no compilador.&lt;/p&gt;
&lt;h2&gt;FÃ¡cil de usar com qualquer ferramenta do ecosistema JS&lt;/h2&gt;
&lt;p&gt;Como Rescript compila para JS, vocÃª pode usar Rescript com qualquer ferramenta que funciona para JS, create-react-app, snowpack, Webpack, Babel, Rome, e mais...Qualquer coisa que funcione para JS vai funcionar em Rescript, porquÃª a ideia Ã©:&lt;/p&gt;
&lt;p&gt;Rescript compila para JS =&amp;gt; e entÃ£o qualquer ferramenta entende os arquivos JS gerados e simplesmente funciona! As ferramentas nÃ£o necessariamente precisam saber que vocÃª estÃ¡ usando Rescript. Para provar isso, eu criei esse template para usar Rescript com o Snowpack. VocÃª pode acessar o cÃ³digo aqui:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/dielduarte/react-snowpack-rescript-template&quot;&gt;dielduarte/react-snowpack-rescript-template&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;VocÃª pode ver que para inicializar o server do snowpack, eu importei o arquivo index.bs.js gerado pelo Rescript dentro do index.html &lt;a href=&quot;https://github.com/dielduarte/react-snowpack-rescript-template/blob/main/index.html#L13&quot;&gt;here&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;ConclusÃ£o&lt;/h2&gt;
&lt;p&gt;Como eu disse no comeÃ§o do post, a ideia aqui foi falar sobre alguns pontos que eu achei interessante para comeÃ§ar a estudar mais sobre Rescript. EntÃ£o eu nÃ£o falei de muitas coisas sobre a linguagem e suas vantagens, mesmo assim, eu espero que esse artigo te ajude a ter mais interesse em aprender mais sobre Rescript.&lt;/p&gt;
&lt;p&gt;E para vocÃª, vale a pena estudar Rescript?&lt;/p&gt;</content:encoded></item><item><title>Um ano trabalhando remoto</title><link>https://dielduarte.dev/blog/pt-br/um-ano-trabalhando-remoto/</link><guid isPermaLink="true">https://dielduarte.dev/blog/pt-br/um-ano-trabalhando-remoto/</guid><description>Trabalhar remoto foi uma das melhores decisÃµes que fiz atÃ© agora, eu espero que vocÃª possa aprender algo com a minha expÃªriencia.</description><pubDate>Mon, 20 Jan 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Trabalhar remoto foi uma das melhores decisÃµes que tomei atÃ© agora, espero que vocÃª possa aprender algo com a minha expÃªriencia.&lt;/p&gt;
&lt;h3&gt;Primeiro de tudo,trabalho remoto nÃ£o significa qualidade de vida.&lt;/h3&gt;
&lt;p&gt;...Mas isso pode ajudar MUITO! Na minha humilde opiniÃ£o pessoas que dizem que trabalho remoto Ã© qualidade de vida estÃ£o querendo te vender ou te passar uma visÃ£o que nÃ£o Ã© 100% verdadeira. Sua qualidade de vida nÃ£o aumenta sÃ³ porque vocÃª comeÃ§ou a trabalhar remoto.&lt;/p&gt;
&lt;p&gt;O que ajuda muito na sua qualidade de vida Ã© a flexibilidade que o trabalho remoto te dÃ¡.&lt;/p&gt;
&lt;h3&gt;VocÃª nÃ£o precisa trabalhar todo dia no mesmo horÃ¡rio mais&lt;/h3&gt;
&lt;p&gt;De fato vocÃª apende muito sobre vocÃª, como por exemplo qual o horÃ¡rio sou mais produtivo trabalhando? Qual o melhor horÃ¡rio para ir correr ou ir na academia? Qual o melhor horÃ¡rio para trabalhar naquela tarefa que precisa 100% do seu foco? E muitas outras perguntas...Agora vocÃª aprendeu sobre uma pessoa totalmente nova dentro de vocÃª, que vocÃª nem sabia que existia. Isso Ã© maravilhoso! Mas tem alguns problemas que vamos conversar sobre o decorrer desse post.&lt;/p&gt;
&lt;h3&gt; VocÃª nÃ£o precisa perder o seu tempo indo ao escritÃ³rio&lt;/h3&gt;
&lt;p&gt;Eu passei 5 anos indo da minha cidade para outra cidade para trabalhar/estudar, era apenas 50 minutos de distÃ¢ncia. Em 5 anos, eu gastei 3 meses da minha vida apenas indo trabalhar.&lt;/p&gt;
&lt;p&gt;SÃ©rio, eu adoraria usar esses 3 meses de fÃ©rias, estudando, com minha familia/amigos. Qualquer coisa, menos no caminho para o trabalho.&lt;/p&gt;
&lt;p&gt;TambÃ©m Ã© importante te lembrar que vocÃª pode usar esse tempo para fazer algo produtivo, tempo Ã© vida,e essa Ã© uma chance Ãºnica que nem todo mundo tem acesso. Pense sobre isso!&lt;/p&gt;
&lt;h3&gt;VocÃª pode trabalhar em qualquer lugar&lt;/h3&gt; 
&lt;p&gt;...Se vocÃª tiver uma boa conexÃ£o de internet!!! Eu aposto que vocÃª jÃ¡ viu muitas fotos de pessoas trabalhando remoto na praia. Hmmm... Me desculpe, mas nÃ£o existe uma boa conexÃ£o de internet na praia, pelo menos nÃ£o no Brasil.&lt;/p&gt;
&lt;p&gt;Mas Ã© verdade, eu literalmente posso trabalhar onde eu quiser. Esse ano eu viajei para os Estados Unidos 2 vezes, Chile uma vez, e agora estou indo para o CanadÃ¡. Eu nÃ£o precisei pedir fÃ©rias para os meus chefes, eles nÃ£o se importam qual Ã© o meu timezone, a coisa mais importante Ã© entregar valor,resolver problemas e manter os projetos funcionando! NÃ£o importa onde vivo, meu timezone ou quem sou. No meu time temos pessoas do Brasil, RÃºssia, Ãndia, PolÃ´nia, Estados Unidos e mais...&lt;/p&gt;
&lt;h3&gt;Agora vem a qualidade de vida&lt;/h3&gt; 
&lt;p&gt;Quando vocÃª fecha o seu computador depois das 8 horas diÃ¡rias e pode ser o melhor marido, filho, amigo ou simplesmente pode cuidar das suas coisas como, estudar sem ter que dormir menos de 8 horas por dia pra isso, tocar um instrumento musical dia de semana, viajar quando vocÃª quiser.&lt;/p&gt;
&lt;p&gt;VocÃª tambÃ©m precisa cuidar da sua saÃºde, sÃ©rio, no comeÃ§o eu estava apenas comendo fast food e tive sÃ©rios problemas de saÃºde muito rÃ¡pido. Cuidar da sua saÃºde, seu corpo e sua mente nÃ£o tem nada haver com trabalho remoto.&lt;/p&gt;
&lt;p&gt;VocÃª tambÃ©m pode ganhar mais e isso pode ajudar muito. Trabalhando remoto vocÃª pode trabalhar para empresas que pagam mais que a mÃ©dia, empresas no Brasil nÃ£o podem pagar um bom salÃ¡rio comparando com um salÃ¡rio em dolÃ¡res. Vamos ser honestos, vocÃª pode ter uma vida muito melhor se vocÃª ganha melhor, isso Ã© conhecido como capitalismo! Eu sinceramente nÃ£o sei o quÃ£o bom capitalismo Ã©, mas Ã© um fato.&lt;/p&gt;
&lt;h1&gt;E quais os problemas?&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Ficar isolado.&lt;/li&gt;
&lt;li&gt;FOMO.&lt;/li&gt;
&lt;li&gt;Trabalhar mais de 8 horas por dia.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Todos esses sÃ£o problemas que vocÃª tem que enfrentar ao trabalhar remoto se vocÃª nÃ£o se organizar bem, e eles podem trazer problemas sÃ©rios para vocÃª.&lt;/p&gt;
&lt;h3&gt;Ficar isolado&lt;/h3&gt;
&lt;p&gt;Quando vocÃª comeÃ§a a trabalhar remoto vocÃª vai ficar muito mais tempo na sua casa do que antes, isso vai te forÃ§ar a ficar isolado do resto do mundo. Ã‰ importante que vocÃª tenha amigos, saia para almoÃ§ar/jantar, conheÃ§a novas pessoas indo em meetups, conferÃªncias e pratique exercÃ­cios fÃ­sicos. Resumindo, SAIA DE CASA, converse com pessoas, fique mais tempo com sua famÃ­lia e amigos. NÃ£o fique isolado do resto do mundo.&lt;/p&gt;
&lt;h3&gt;FOMO ou medo de estar perdendo algo&lt;/h3&gt;
&lt;p&gt;Eu nÃ£o posso te ajudar muito com isso, porque eu continuo aprendendo como lidar com isso. E isso Ã© um grande problema para muitas pessoas que trabalham remotamente. A melhor coisa a se fazer Ã© dar o seu 100% enquanto vocÃª estÃ¡ trabalhando e simplesmente ignorar totalmente quando vocÃª estÃ¡ offline.&lt;/p&gt;
&lt;p&gt;Quase 98% das coisas que acontecem no trabalho nÃ£o sÃ£o urgentes, eu recomendo muito a leitura do livro &lt;a href=&quot;https://www.amazon.com/Doesnt-Have-Be-Crazy-Work/dp/0062874780/ref=sr_1_1?crid=29HZM51PVO126&amp;amp;keywords=it+doesn%27t+have+to+be+crazy+at+work&amp;amp;qid=1579489696&amp;amp;sprefix=it+doesn%2Caps%2C161&amp;amp;sr=8-1&quot;&gt;it doesn&apos;t have to be crazy at work&lt;/a&gt; para vocÃª entender mais sobre tÃ©cnicas para manter a sanidade no trabalho, sendo remoto ou nÃ£o.&lt;/p&gt;
&lt;h3&gt;Trabalhar mais do que 8 horas por dia&lt;/h3&gt;
&lt;p&gt;Pelo menos na minha experiÃªncia, isso nÃ£o acontece todos os dias. Mas conheÃ§o muitas pessoas que trabalham muito mais do que 8 horas por dia e Ã© normal, vocÃª sente uma pressÃ£o que vocÃª mesmo coloca porque vocÃª nÃ£o tem mais seu chefe olhando vocÃª &quot;trabalhando&quot; e a Ãºnica forma de provar que vocÃª estÃ¡ trabalhando sÃ£o as suas entregas.&lt;/p&gt;
&lt;p&gt;Mas nÃ£o fique com medo, trabalhar Ã© um processo contÃ­nuo e vocÃª pode continuar amanhÃ£!&lt;/p&gt;
&lt;h1&gt;Vale a pena?&lt;/h1&gt;
&lt;p&gt;Como eu disse no comeÃ§o do texto, trabalhar remoto foi uma das melhores decisÃµes que tomei atÃ© hoje na minha carreira. Seja seletivo, procure uma boa empresa com um bom ambiente para se trabalhar remoto e aproveite a sua nova vida!&lt;/p&gt;
&lt;p&gt;Eu espero que vocÃª tenha aprendido algo novo hoje! â¤ï¸&lt;/p&gt;</content:encoded></item></channel></rss>