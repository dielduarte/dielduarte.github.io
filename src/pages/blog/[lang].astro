---
import HomePage from '../../components/HomePage.astro';

interface Frontmatter {
  title: string;
  description: string;
  date: string;
  languageKey: string;
  languageLink: string;
  socialImage: string;
  slug: string;
}

export async function getStaticPaths() {
  const enPosts = await Astro.glob<Frontmatter>('./en/**/*.md')
  const ptBrPosts = await Astro.glob<Frontmatter>('./pt-br/**/*.md')
  
  return [
    {params: {lang: 'en'}, props: {posts: enPosts, lang: 'en'}},
    {params: {lang: 'pt-br'}, props: {posts: ptBrPosts, lang: 'pt-br'}},
  ];
}

const { posts, lang } = Astro.props;
---

<HomePage posts={posts} lang={lang} />
